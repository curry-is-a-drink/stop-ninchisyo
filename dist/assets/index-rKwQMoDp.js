var Xi=Object.defineProperty;var Ki=(t,e,n)=>e in t?Xi(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var _n=(t,e,n)=>(Ki(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function H(){}const xr=t=>t;function Ot(t,e){for(const n in e)t[n]=e[n];return t}function Gi(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Br(t){return t()}function ks(){return Object.create(null)}function Z(t){t.forEach(Br)}function ct(t){return typeof t=="function"}function re(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Qi(t){return Object.keys(t).length===0}function Mr(t,...e){if(t==null){for(const s of e)s(void 0);return H}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ee(t,e,n){t.$$.on_destroy.push(Mr(e,n))}function rn(t,e,n,s){if(t){const r=jr(t,e,n,s);return t[0](r)}}function jr(t,e,n,s){return t[1]&&s?Ot(n.ctx.slice(),t[1](s(e))):n.ctx}function on(t,e,n,s){if(t[2]&&s){const r=t[2](s(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],o=Math.max(e.dirty.length,r.length);for(let a=0;a<o;a+=1)i[a]=e.dirty[a]|r[a];return i}return e.dirty|r}return e.dirty}function an(t,e,n,s,r,i){if(r){const o=jr(e,n,s,i);t.p(o,r)}}function ln(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}function Ps(t){const e={};for(const n in t)n[0]!=="$"&&(e[n]=t[n]);return e}function Y(t,e,n){return t.set(n),e}const Lr=typeof window<"u";let Dr=Lr?()=>window.performance.now():()=>Date.now(),Qn=Lr?t=>requestAnimationFrame(t):H;const qe=new Set;function qr(t){qe.forEach(e=>{e.c(t)||(qe.delete(e),e.f())}),qe.size!==0&&Qn(qr)}function Ur(t){let e;return qe.size===0&&Qn(qr),{promise:new Promise(n=>{qe.add(e={c:t,f:n})}),abort(){qe.delete(e)}}}function P(t,e){t.appendChild(e)}function Hr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Yi(t){const e=y("style");return e.textContent="/* empty */",Zi(Hr(t),e),e.sheet}function Zi(t,e){return P(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode&&t.parentNode.removeChild(t)}function wt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function Q(t){return document.createTextNode(t)}function O(){return Q(" ")}function be(){return Q("")}function I(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function X(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function eo(t){return Array.from(t.childNodes)}function ye(t,e){e=""+e,t.data!==e&&(t.data=e)}function B(t,e){t.value=e??""}function le(t,e,n){for(let s=0;s<t.options.length;s+=1){const r=t.options[s];if(r.__value===e){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function xe(t){const e=t.querySelector(":checked");return e&&e.__value}function to(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}function Os(t,e){return new t(e)}const Tt=new Map;let Nt=0;function no(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function so(t,e){const n={stylesheet:Yi(e),rules:{}};return Tt.set(t,n),n}function Wr(t,e,n,s,r,i,o,a=0){const l=16.666/s;let u=`{
`;for(let _=0;_<=1;_+=l){const A=e+(n-e)*i(_);u+=_*100+`%{${o(A,1-A)}}
`}const c=u+`100% {${o(n,1-n)}}
}`,f=`__svelte_${no(c)}_${a}`,p=Hr(t),{stylesheet:m,rules:d}=Tt.get(p)||so(p,t);d[f]||(d[f]=!0,m.insertRule(`@keyframes ${f} ${c}`,m.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${s}ms linear ${r}ms 1 both`,Nt+=1,f}function Nn(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=n.length-s.length;r&&(t.style.animation=s.join(", "),Nt-=r,Nt||ro())}function ro(){Qn(()=>{Nt||(Tt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&g(e)}),Tt.clear())})}let rt;function Se(t){rt=t}function ze(){if(!rt)throw new Error("Function called outside component initialization");return rt}function ft(t){ze().$$.on_mount.push(t)}function Jr(t){ze().$$.after_update.push(t)}function io(t){ze().$$.on_destroy.push(t)}function gn(t,e){return ze().$$.context.set(t,e),e}function vn(t){return ze().$$.context.get(t)}const je=[],Ts=[];let Ue=[];const Ns=[],oo=Promise.resolve();let Fn=!1;function ao(){Fn||(Fn=!0,oo.then(Yn))}function ue(t){Ue.push(t)}const wn=new Set;let Be=0;function Yn(){if(Be!==0)return;const t=rt;do{try{for(;Be<je.length;){const e=je[Be];Be++,Se(e),lo(e.$$)}}catch(e){throw je.length=0,Be=0,e}for(Se(null),je.length=0,Be=0;Ts.length;)Ts.pop()();for(let e=0;e<Ue.length;e+=1){const n=Ue[e];wn.has(n)||(wn.add(n),n())}Ue.length=0}while(je.length);for(;Ns.length;)Ns.pop()();Fn=!1,wn.clear(),Se(t)}function lo(t){if(t.fragment!==null){t.update(),Z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ue)}}function uo(t){const e=[],n=[];Ue.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),Ue=e}let Ge;function zr(){return Ge||(Ge=Promise.resolve(),Ge.then(()=>{Ge=null})),Ge}function vt(t,e,n){t.dispatchEvent(to(`${e?"intro":"outro"}${n}`))}const bt=new Set;let Te;function Ve(){Te={r:0,c:[],p:Te}}function Xe(){Te.r||Z(Te.c),Te=Te.p}function v(t,e){t&&t.i&&(bt.delete(t),t.i(e))}function F(t,e,n,s){if(t&&t.o){if(bt.has(t))return;bt.add(t),Te.c.push(()=>{bt.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const Vr={duration:0};function co(t,e,n){const s={direction:"in"};let r=e(t,n,s),i=!1,o,a,l=0;function u(){o&&Nn(t,o)}function c(){const{delay:p=0,duration:m=300,easing:d=xr,tick:h=H,css:_}=r||Vr;_&&(o=Wr(t,0,1,m,p,d,_,l++)),h(0,1);const A=Dr()+p,$=A+m;a&&a.abort(),i=!0,ue(()=>vt(t,!0,"start")),a=Ur(R=>{if(i){if(R>=$)return h(1,0),vt(t,!0,"end"),u(),i=!1;if(R>=A){const T=d((R-A)/m);h(T,1-T)}}return i})}let f=!1;return{start(){f||(f=!0,Nn(t),ct(r)?(r=r(s),zr().then(c)):c())},invalidate(){f=!1},end(){i&&(u(),i=!1)}}}function fo(t,e,n){const s={direction:"out"};let r=e(t,n,s),i=!0,o;const a=Te;a.r+=1;let l;function u(){const{delay:c=0,duration:f=300,easing:p=xr,tick:m=H,css:d}=r||Vr;d&&(o=Wr(t,1,0,f,c,p,d));const h=Dr()+c,_=h+f;ue(()=>vt(t,!1,"start")),"inert"in t&&(l=t.inert,t.inert=!0),Ur(A=>{if(i){if(A>=_)return m(0,1),vt(t,!1,"end"),--a.r||Z(a.c),!1;if(A>=h){const $=p((A-h)/f);m(1-$,$)}}return i})}return ct(r)?zr().then(()=>{r=r(s),u()}):u(),{end(c){c&&"inert"in t&&(t.inert=l),c&&r.tick&&r.tick(1,0),i&&(o&&Nn(t,o),i=!1)}}}function vs(t,e){const n=e.token={};function s(r,i,o,a){if(e.token!==n)return;e.resolved=a;let l=e.ctx;o!==void 0&&(l=l.slice(),l[o]=a);const u=r&&(e.current=r)(l);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,p)=>{p!==i&&f&&(Ve(),F(f,1,1,()=>{e.blocks[p]===f&&(e.blocks[p]=null)}),Xe())}):e.block.d(1),u.c(),v(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[i]=u),c&&Yn()}if(Gi(t)){const r=ze();if(t.then(i=>{Se(r),s(e.then,1,e.value,i),Se(null)},i=>{if(Se(r),s(e.catch,2,e.error,i),Se(null),!e.hasCatch)throw i}),e.current!==e.pending)return s(e.pending,0),!0}else{if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}}function ho(t,e,n){const s=e.slice(),{resolved:r}=t;t.current===t.then&&(s[t.value]=r),t.current===t.catch&&(s[t.error]=r),t.block.p(s,n)}function Oe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Fs(t,e){const n={},s={},r={$$scope:1};let i=t.length;for(;i--;){const o=t[i],a=e[i];if(a){for(const l in o)l in a||(s[l]=1);for(const l in a)r[l]||(n[l]=a[l],r[l]=1);t[i]=a}else for(const l in o)r[l]=1}for(const o in s)o in n||(n[o]=void 0);return n}function pt(t){return typeof t=="object"&&t!==null?t:{}}function U(t){t&&t.c()}function L(t,e,n){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),ue(()=>{const i=t.$$.on_mount.map(Br).filter(ct);t.$$.on_destroy?t.$$.on_destroy.push(...i):Z(i),t.$$.on_mount=[]}),r.forEach(ue)}function D(t,e){const n=t.$$;n.fragment!==null&&(uo(n.after_update),Z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function po(t,e){t.$$.dirty[0]===-1&&(je.push(t),ao(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ie(t,e,n,s,r,i,o=null,a=[-1]){const l=rt;Se(t);const u=t.$$={fragment:null,ctx:[],props:i,update:H,not_equal:r,bound:ks(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:ks(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};o&&o(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(f,p,...m)=>{const d=m.length?m[0]:p;return u.ctx&&r(u.ctx[f],u.ctx[f]=d)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](d),c&&po(t,f)),p}):[],u.update(),c=!0,Z(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const f=eo(e.target);u.fragment&&u.fragment.l(f),f.forEach(g)}else u.fragment&&u.fragment.c();e.intro&&v(t.$$.fragment),L(t,e.target,e.anchor),Yn()}Se(l)}class oe{constructor(){_n(this,"$$");_n(this,"$$set")}$destroy(){D(this,1),this.$destroy=H}$on(e,n){if(!ct(n))return H;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Qi(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const mo="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(mo);const Me=[];function _o(t,e){return{subscribe:ve(t,e).subscribe}}function ve(t,e=H){let n;const s=new Set;function r(a){if(re(t,a)&&(t=a,n)){const l=!Me.length;for(const u of s)u[1](),Me.push(u,t);if(l){for(let u=0;u<Me.length;u+=2)Me[u][0](Me[u+1]);Me.length=0}}}function i(a){r(a(t))}function o(a,l=H){const u=[a,l];return s.add(u),s.size===1&&(n=e(r,i)||H),a(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:o}}function go(t,e,n){const s=!Array.isArray(t),r=s?[t]:t;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=e.length<2;return _o(n,(o,a)=>{let l=!1;const u=[];let c=0,f=H;const p=()=>{if(c)return;f();const d=e(s?u[0]:u,o,a);i?o(d):f=ct(d)?d:H},m=r.map((d,h)=>Mr(d,_=>{u[h]=_,c&=~(1<<h),l&&p()},()=>{c|=1<<h}));return l=!0,p(),function(){Z(m),f(),l=!1}})}const V=ve(0);function wo(t){let e,n,s,r,i,o;const a=t[2].default,l=rn(a,t,t[1],null);return{c(){e=y("div"),n=y("h1"),s=Q("質問"),r=Q(t[0]),i=O(),l&&l.c(),X(e,"class","container")},m(u,c){w(u,e,c),P(e,n),P(n,s),P(n,r),P(e,i),l&&l.m(e,null),o=!0},p(u,[c]){(!o||c&1)&&ye(r,u[0]),l&&l.p&&(!o||c&2)&&an(l,a,u,u[1],o?on(a,u[1],c,null):ln(u[1]),null)},i(u){o||(v(l,u),o=!0)},o(u){F(l,u),o=!1},d(u){u&&g(e),l&&l.d(u)}}}function bo(t,e,n){let{$$slots:s={},$$scope:r}=e,{number:i}=e;return t.$$set=o=>{"number"in o&&n(0,i=o.number),"$$scope"in o&&n(1,r=o.$$scope)},[i,r,s]}class Ee extends oe{constructor(e){super(),ie(this,e,bo,wo,re,{number:0})}}function it(t){var e=/[Ａ-Ｚａ-ｚ０-９！＂＃＄％＆＇（）＊＋，－．／：；＜＝＞？＠［＼］＾＿｀｛｜｝]/g;return t.replace(e,function(n){return String.fromCharCode(n.charCodeAt(0)-65248)}).replace(/[‐－―]/g,"-").replace(/[～〜]/g,"~").replace(/　/g," ")}const Is={},In={},yo={},Xr=/^:(.+)/,xs=4,$o=3,Co=2,So=1,Ro=1,xn=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),bn=t=>t.replace(/(^\/+|\/+$)/g,""),Eo=(t,e)=>{const n=t.default?0:xn(t.path).reduce((s,r)=>(s+=xs,r===""?s+=Ro:Xr.test(r)?s+=Co:r[0]==="*"?s-=xs+So:s+=$o,s),0);return{route:t,score:n,index:e}},Ao=t=>t.map(Eo).sort((e,n)=>e.score<n.score?1:e.score>n.score?-1:e.index-n.index),Bs=(t,e)=>{let n,s;const[r]=e.split("?"),i=xn(r),o=i[0]==="",a=Ao(t);for(let l=0,u=a.length;l<u;l++){const c=a[l].route;let f=!1;if(c.default){s={route:c,params:{},uri:e};continue}const p=xn(c.path),m={},d=Math.max(i.length,p.length);let h=0;for(;h<d;h++){const _=p[h],A=i[h];if(_&&_[0]==="*"){const R=_==="*"?"*":_.slice(1);m[R]=i.slice(h).map(decodeURIComponent).join("/");break}if(typeof A>"u"){f=!0;break}const $=Xr.exec(_);if($&&!o){const R=decodeURIComponent(A);m[$[1]]=R}else if(_!==A){f=!0;break}}if(!f){n={route:c,params:m,uri:"/"+i.slice(0,h).join("/")};break}}return n||s||null},Ms=(t,e)=>`${bn(e==="/"?t:`${bn(t)}/${bn(e)}`)}/`,Kr=()=>typeof window<"u"&&"document"in window&&"location"in window,ko=t=>({params:t&4}),js=t=>({params:t[2]});function Ls(t){let e,n,s,r;const i=[Oo,Po],o=[];function a(l,u){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),s=be()},m(l,u){o[e].m(l,u),w(l,s,u),r=!0},p(l,u){let c=e;e=a(l),e===c?o[e].p(l,u):(Ve(),F(o[c],1,1,()=>{o[c]=null}),Xe(),n=o[e],n?n.p(l,u):(n=o[e]=i[e](l),n.c()),v(n,1),n.m(s.parentNode,s))},i(l){r||(v(n),r=!0)},o(l){F(n),r=!1},d(l){l&&g(s),o[e].d(l)}}}function Po(t){let e;const n=t[8].default,s=rn(n,t,t[7],js);return{c(){s&&s.c()},m(r,i){s&&s.m(r,i),e=!0},p(r,i){s&&s.p&&(!e||i&132)&&an(s,n,r,r[7],e?on(n,r[7],i,ko):ln(r[7]),js)},i(r){e||(v(s,r),e=!0)},o(r){F(s,r),e=!1},d(r){s&&s.d(r)}}}function Oo(t){let e,n,s,r={ctx:t,current:null,token:null,hasCatch:!1,pending:vo,then:No,catch:To,value:12,blocks:[,,,]};return vs(n=t[0],r),{c(){e=be(),r.block.c()},m(i,o){w(i,e,o),r.block.m(i,r.anchor=o),r.mount=()=>e.parentNode,r.anchor=e,s=!0},p(i,o){t=i,r.ctx=t,o&1&&n!==(n=t[0])&&vs(n,r)||ho(r,t,o)},i(i){s||(v(r.block),s=!0)},o(i){for(let o=0;o<3;o+=1){const a=r.blocks[o];F(a)}s=!1},d(i){i&&g(e),r.block.d(i),r.token=null,r=null}}}function To(t){return{c:H,m:H,p:H,i:H,o:H,d:H}}function No(t){var a;let e,n,s;const r=[t[2],t[3]];var i=((a=t[12])==null?void 0:a.default)||t[12];function o(l,u){let c={};if(u!==void 0&&u&12)c=Fs(r,[u&4&&pt(l[2]),u&8&&pt(l[3])]);else for(let f=0;f<r.length;f+=1)c=Ot(c,r[f]);return{props:c}}return i&&(e=Os(i,o(t))),{c(){e&&U(e.$$.fragment),n=be()},m(l,u){e&&L(e,l,u),w(l,n,u),s=!0},p(l,u){var c;if(u&1&&i!==(i=((c=l[12])==null?void 0:c.default)||l[12])){if(e){Ve();const f=e;F(f.$$.fragment,1,0,()=>{D(f,1)}),Xe()}i?(e=Os(i,o(l,u)),U(e.$$.fragment),v(e.$$.fragment,1),L(e,n.parentNode,n)):e=null}else if(i){const f=u&12?Fs(r,[u&4&&pt(l[2]),u&8&&pt(l[3])]):{};e.$set(f)}},i(l){s||(e&&v(e.$$.fragment,l),s=!0)},o(l){e&&F(e.$$.fragment,l),s=!1},d(l){l&&g(n),e&&D(e,l)}}}function vo(t){return{c:H,m:H,p:H,i:H,o:H,d:H}}function Fo(t){let e,n,s=t[1]&&t[1].route===t[5]&&Ls(t);return{c(){s&&s.c(),e=be()},m(r,i){s&&s.m(r,i),w(r,e,i),n=!0},p(r,[i]){r[1]&&r[1].route===r[5]?s?(s.p(r,i),i&2&&v(s,1)):(s=Ls(r),s.c(),v(s,1),s.m(e.parentNode,e)):s&&(Ve(),F(s,1,1,()=>{s=null}),Xe())},i(r){n||(v(s),n=!0)},o(r){F(s),n=!1},d(r){r&&g(e),s&&s.d(r)}}}function Io(t,e,n){let s,{$$slots:r={},$$scope:i}=e,{path:o=""}=e,{component:a=null}=e,l={},u={};const{registerRoute:c,unregisterRoute:f,activeRoute:p}=vn(In);ee(t,p,d=>n(1,s=d));const m={path:o,default:o===""};return c(m),io(()=>{f(m)}),t.$$set=d=>{n(11,e=Ot(Ot({},e),Ps(d))),"path"in d&&n(6,o=d.path),"component"in d&&n(0,a=d.component),"$$scope"in d&&n(7,i=d.$$scope)},t.$$.update=()=>{if(s&&s.route===m){n(2,l=s.params);const{component:d,path:h,..._}=e;n(3,u=_),d&&(d.toString().startsWith("class ")?n(0,a=d):n(0,a=d())),Kr()&&!s.preserveScroll&&(window==null||window.scrollTo(0,0))}},e=Ps(e),[a,s,l,u,p,m,o,i,r]}class de extends oe{constructor(e){super(),ie(this,e,Io,Fo,re,{path:6,component:0})}}const yn=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),xo=t=>{const e=[];let n=yn(t);return{get location(){return n},listen(s){e.push(s);const r=()=>{n=yn(t),s({location:n,action:"POP"})};return t.addEventListener("popstate",r),()=>{t.removeEventListener("popstate",r);const i=e.indexOf(s);e.splice(i,1)}},navigate(s,{state:r,replace:i=!1,preserveScroll:o=!1,blurActiveElement:a=!0}={}){r={...r,key:Date.now()+""};try{i?t.history.replaceState(r,"",s):t.history.pushState(r,"",s)}catch{t.location[i?"replace":"assign"](s)}n=yn(t),e.forEach(l=>l({location:n,action:"PUSH",preserveScroll:o})),a&&document.activeElement.blur()}}},Bo=(t="/")=>{let e=0;const n=[{pathname:t,search:""}],s=[];return{get location(){return n[e]},addEventListener(r,i){},removeEventListener(r,i){},history:{get entries(){return n},get index(){return e},get state(){return s[e]},pushState(r,i,o){const[a,l=""]=o.split("?");e++,n.push({pathname:a,search:l}),s.push(r)},replaceState(r,i,o){const[a,l=""]=o.split("?");n[e]={pathname:a,search:l},s[e]=r}}}},Gr=xo(Kr()?window:Bo()),{navigate:fe}=Gr,Mo=t=>({route:t&4,location:t&2}),Ds=t=>({route:t[2]&&t[2].uri,location:t[1]}),jo=t=>({route:t&4,location:t&2}),qs=t=>({route:t[2]&&t[2].uri,location:t[1]});function Lo(t){let e;const n=t[15].default,s=rn(n,t,t[14],Ds);return{c(){s&&s.c()},m(r,i){s&&s.m(r,i),e=!0},p(r,i){s&&s.p&&(!e||i&16390)&&an(s,n,r,r[14],e?on(n,r[14],i,Mo):ln(r[14]),Ds)},i(r){e||(v(s,r),e=!0)},o(r){F(s,r),e=!1},d(r){s&&s.d(r)}}}function Do(t){let e=t[1].pathname,n,s,r=Us(t);return{c(){r.c(),n=be()},m(i,o){r.m(i,o),w(i,n,o),s=!0},p(i,o){o&2&&re(e,e=i[1].pathname)?(Ve(),F(r,1,1,H),Xe(),r=Us(i),r.c(),v(r,1),r.m(n.parentNode,n)):r.p(i,o)},i(i){s||(v(r),s=!0)},o(i){F(r),s=!1},d(i){i&&g(n),r.d(i)}}}function Us(t){let e,n,s,r;const i=t[15].default,o=rn(i,t,t[14],qs);return{c(){e=y("div"),o&&o.c()},m(a,l){w(a,e,l),o&&o.m(e,null),r=!0},p(a,l){o&&o.p&&(!r||l&16390)&&an(o,i,a,a[14],r?on(i,a[14],l,jo):ln(a[14]),qs)},i(a){r||(v(o,a),a&&ue(()=>{r&&(s&&s.end(1),n=co(e,t[3],{}),n.start())}),r=!0)},o(a){F(o,a),n&&n.invalidate(),a&&(s=fo(e,t[3],{})),r=!1},d(a){a&&g(e),o&&o.d(a),a&&s&&s.end()}}}function qo(t){let e,n,s,r;const i=[Do,Lo],o=[];function a(l,u){return l[0]?0:1}return e=a(t),n=o[e]=i[e](t),{c(){n.c(),s=be()},m(l,u){o[e].m(l,u),w(l,s,u),r=!0},p(l,[u]){let c=e;e=a(l),e===c?o[e].p(l,u):(Ve(),F(o[c],1,1,()=>{o[c]=null}),Xe(),n=o[e],n?n.p(l,u):(n=o[e]=i[e](l),n.c()),v(n,1),n.m(s.parentNode,s))},i(l){r||(v(n),r=!0)},o(l){F(n),r=!1},d(l){l&&g(s),o[e].d(l)}}}function Uo(t,e,n){let s,r,i,o,{$$slots:a={},$$scope:l}=e,{basepath:u="/"}=e,{url:c=null}=e,{viewtransition:f=null}=e,{history:p=Gr}=e;const m=(N,M,C)=>{const S=f(C);return typeof(S==null?void 0:S.fn)=="function"?S.fn(N,S):S};gn(yo,p);const d=vn(Is),h=vn(In),_=ve([]);ee(t,_,N=>n(12,r=N));const A=ve(null);ee(t,A,N=>n(2,o=N));let $=!1;const R=d||ve(c?{pathname:c}:p.location);ee(t,R,N=>n(1,s=N));const T=h?h.routerBase:ve({path:u,uri:u});ee(t,T,N=>n(13,i=N));const J=go([T,A],([N,M])=>{if(!M)return N;const{path:C}=N,{route:S,uri:E}=M;return{path:S.default?C:S.path.replace(/\*.*$/,""),uri:E}}),k=N=>{const{path:M}=i;let{path:C}=N;if(N._path=C,N.path=Ms(M,C),typeof window>"u"){if($)return;const S=Bs([N],s.pathname);S&&(A.set(S),$=!0)}else _.update(S=>[...S,N])},x=N=>{_.update(M=>M.filter(C=>C!==N))};let W=!1;return d||(ft(()=>p.listen(M=>{n(11,W=M.preserveScroll||!1),R.set(M.location)})),gn(Is,R)),gn(In,{activeRoute:A,base:T,routerBase:J,registerRoute:k,unregisterRoute:x}),t.$$set=N=>{"basepath"in N&&n(8,u=N.basepath),"url"in N&&n(9,c=N.url),"viewtransition"in N&&n(0,f=N.viewtransition),"history"in N&&n(10,p=N.history),"$$scope"in N&&n(14,l=N.$$scope)},t.$$.update=()=>{if(t.$$.dirty&8192){const{path:N}=i;_.update(M=>M.map(C=>Object.assign(C,{path:Ms(N,C._path)})))}if(t.$$.dirty&6146){const N=Bs(r,s.pathname);A.set(N&&{...N,preserveScroll:W})}},[f,s,o,m,_,A,R,T,u,c,p,W,r,i,l,a]}class Ho extends oe{constructor(e){super(),ie(this,e,Uo,qo,re,{basepath:8,url:9,viewtransition:0,history:10})}}function Wo(t){let e,n,s,r,i,o,a,l,u,c,f,p;return{c(){e=y("h2"),e.textContent="年齢はいくつですか",n=O(),s=y("input"),r=O(),i=y("h2"),i.textContent="生年月日を答えてください",o=O(),a=y("input"),l=O(),u=y("div"),c=y("button"),c.textContent="確定",X(s,"type","text"),X(a,"type","date"),X(u,"class","button-container svelte-g0oe7d")},m(m,d){w(m,e,d),w(m,n,d),w(m,s,d),B(s,t[0]),w(m,r,d),w(m,i,d),w(m,o,d),w(m,a,d),B(a,t[1]),w(m,l,d),w(m,u,d),P(u,c),f||(p=[I(s,"input",t[3]),I(s,"change",t[4]),I(a,"input",t[5]),I(c,"click",t[2])],f=!0)},p(m,d){d&1&&s.value!==m[0]&&B(s,m[0]),d&2&&B(a,m[1])},d(m){m&&(g(e),g(n),g(s),g(r),g(i),g(o),g(a),g(l),g(u)),f=!1,Z(p)}}}function Jo(t){let e,n,s;return n=new Ee({props:{number:1,$$slots:{default:[Wo]},$$scope:{ctx:t}}}),{c(){e=y("div"),U(n.$$.fragment)},m(r,i){w(r,e,i),L(n,e,null),s=!0},p(r,[i]){const o={};i&131&&(o.$$scope={dirty:i,ctx:r}),n.$set(o)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){F(n.$$.fragment,r),s=!1},d(r){r&&g(e),D(n)}}}function zo(t,e,n){const s=new Date,r=new Date(t,e-1,n),i=new Date(s.getFullYear(),r.getMonth(),r.getDate());let o=s.getFullYear()-r.getFullYear();return s<i&&o--,o}function Vo(t,e,n){let s;ee(t,V,c=>n(6,s=c));let r,i;function o(){const c=new Date(Date.now());c.getFullYear(),c.getMonth()+1,c.getDate();const f=Number(i.slice(0,4)),p=Number(i.slice(5,7)),m=Number(i.slice(8,10)),h=zo(f,p,m)-r;h<=2&&h>=-2&&Y(V,s+=1,s),fe("2")}function a(){r=this.value,n(0,r)}const l=()=>{n(0,r=it(r))};function u(){i=this.value,n(1,i)}return[r,i,o,a,l,u]}class Xo extends oe{constructor(e){super(),ie(this,e,Vo,Jo,re,{})}}function Hs(t,e,n){const s=t.slice();return s[17]=e[n],s}function Ws(t,e,n){const s=t.slice();return s[20]=e[n],s}function Js(t,e,n){const s=t.slice();return s[23]=e[n],s}function zs(t){let e,n=t[23]+"",s;return{c(){e=y("option"),s=Q(n),e.__value=t[23],B(e,e.__value)},m(r,i){w(r,e,i),P(e,s)},p:H,d(r){r&&g(e)}}}function Vs(t){let e,n=t[20]+"",s;return{c(){e=y("option"),s=Q(n),e.__value=t[20],B(e,e.__value)},m(r,i){w(r,e,i),P(e,s)},p:H,d(r){r&&g(e)}}}function Xs(t){let e,n=t[17]+"",s;return{c(){e=y("option"),s=Q(n),e.__value=t[17],B(e,e.__value)},m(r,i){w(r,e,i),P(e,s)},p:H,d(r){r&&g(e)}}}function Ko(t){let e,n,s,r,i,o,a,l,u,c,f,p,m,d,h,_,A,$,R,T,J=Oe(t[6]),k=[];for(let C=0;C<J.length;C+=1)k[C]=zs(Js(t,J,C));let x=Oe(t[5]),W=[];for(let C=0;C<x.length;C+=1)W[C]=Vs(Ws(t,x,C));let N=Oe(t[4]),M=[];for(let C=0;C<N.length;C+=1)M[C]=Xs(Hs(t,N,C));return{c(){e=y("h2"),e.textContent="今日は何年か",n=O(),s=y("input"),r=Q(`年\r
 `),i=y("h2"),i.textContent="今日は何月か",o=O(),a=y("select");for(let C=0;C<k.length;C+=1)k[C].c();l=O(),u=y("h2"),u.textContent="今日は何日か",c=O(),f=y("select");for(let C=0;C<W.length;C+=1)W[C].c();p=O(),m=y("h2"),m.textContent="今日は何曜日か",d=O(),h=y("select");for(let C=0;C<M.length;C+=1)M[C].c();_=O(),A=y("div"),$=y("button"),$.textContent="確定",X(s,"type","text"),X(a,"contenteditable","true"),t[1]===void 0&&ue(()=>t[10].call(a)),t[1]===void 0&&ue(()=>t[11].call(a)),X(f,"contenteditable","true"),t[2]===void 0&&ue(()=>t[12].call(f)),t[2]===void 0&&ue(()=>t[13].call(f)),X(h,"contenteditable","true"),t[3]===void 0&&ue(()=>t[14].call(h)),t[3]===void 0&&ue(()=>t[15].call(h)),X(A,"class","button-container svelte-g0oe7d")},m(C,S){w(C,e,S),w(C,n,S),w(C,s,S),B(s,t[0]),w(C,r,S),w(C,i,S),w(C,o,S),w(C,a,S);for(let E=0;E<k.length;E+=1)k[E]&&k[E].m(a,null);t[1]!==void 0&&le(a,t[1],!0),t[1]!==void 0&&le(a,t[1],!0),w(C,l,S),w(C,u,S),w(C,c,S),w(C,f,S);for(let E=0;E<W.length;E+=1)W[E]&&W[E].m(f,null);t[2]!==void 0&&le(f,t[2],!0),t[2]!==void 0&&le(f,t[2],!0),w(C,p,S),w(C,m,S),w(C,d,S),w(C,h,S);for(let E=0;E<M.length;E+=1)M[E]&&M[E].m(h,null);t[3]!==void 0&&le(h,t[3],!0),t[3]!==void 0&&le(h,t[3],!0),w(C,_,S),w(C,A,S),P(A,$),R||(T=[I(s,"input",t[8]),I(s,"change",t[9]),I(a,"input",t[10]),I(a,"change",t[11]),I(f,"input",t[12]),I(f,"change",t[13]),I(h,"input",t[14]),I(h,"change",t[15]),I($,"click",t[7])],R=!0)},p(C,S){if(S&1&&s.value!==C[0]&&B(s,C[0]),S&64){J=Oe(C[6]);let E;for(E=0;E<J.length;E+=1){const ae=Js(C,J,E);k[E]?k[E].p(ae,S):(k[E]=zs(ae),k[E].c(),k[E].m(a,null))}for(;E<k.length;E+=1)k[E].d(1);k.length=J.length}if(S&66&&C[1]!==a.innerText&&le(a,C[1]),S&66&&C[1]!==a.innerText&&le(a,C[1]),S&32){x=Oe(C[5]);let E;for(E=0;E<x.length;E+=1){const ae=Ws(C,x,E);W[E]?W[E].p(ae,S):(W[E]=Vs(ae),W[E].c(),W[E].m(f,null))}for(;E<W.length;E+=1)W[E].d(1);W.length=x.length}if(S&36&&C[2]!==f.innerText&&le(f,C[2]),S&36&&C[2]!==f.innerText&&le(f,C[2]),S&16){N=Oe(C[4]);let E;for(E=0;E<N.length;E+=1){const ae=Hs(C,N,E);M[E]?M[E].p(ae,S):(M[E]=Xs(ae),M[E].c(),M[E].m(h,null))}for(;E<M.length;E+=1)M[E].d(1);M.length=N.length}S&24&&C[3]!==h.innerText&&le(h,C[3]),S&24&&C[3]!==h.innerText&&le(h,C[3])},d(C){C&&(g(e),g(n),g(s),g(r),g(i),g(o),g(a),g(l),g(u),g(c),g(f),g(p),g(m),g(d),g(h),g(_),g(A)),wt(k,C),wt(W,C),wt(M,C),R=!1,Z(T)}}}function Go(t){let e,n;return e=new Ee({props:{number:2,$$slots:{default:[Ko]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&67108879&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Qo(t,e,n){let s;ee(t,V,T=>n(16,s=T));let r,i,o,a,l=["日","月","火","水","木","金","土"],u=[...Array(31)].map((T,J)=>J+1),c=[...Array(12)].map((T,J)=>J+1);function f(){const T=new Date,J=T.getFullYear(),k=T.getMonth()+1,x=T.getDate(),W=T.getDay(),N=l.indexOf(a);J==r&&Y(V,s+=1,s),k==i&&Y(V,s+=1,s),x==o&&Y(V,s+=1,s),W==N&&Y(V,s+=1,s),fe("3")}function p(){r=this.value,n(0,r)}const m=()=>{n(0,r=it(r))};function d(){i=xe(this),n(1,i),n(6,c)}function h(){i=xe(this),n(1,i),n(6,c)}function _(){o=xe(this),n(2,o),n(5,u)}function A(){o=xe(this),n(2,o),n(5,u)}function $(){a=xe(this),n(3,a),n(4,l)}function R(){a=xe(this),n(3,a),n(4,l)}return[r,i,o,a,l,u,c,f,p,m,d,h,_,A,$,R]}class Yo extends oe{constructor(e){super(),ie(this,e,Qo,Go,re,{})}}let Ks=0;function Zo(t,e,n=7500){const s=`https://map.yahooapis.jp/placeinfo/V1/get?lat=${t}&lon=${e}&appid=dj00aiZpPW1Ma1JaU0ZxTEhnWCZzPWNvbnN1bWVyc2VjcmV0Jng9NWE-&output=json`,r=document.querySelector("head");return Ks+=1,new Promise((i,o)=>{let a=document.createElement("script");const l=`jsonpCallback${Ks}`;a.src=encodeURI(`${s}&callback=${l}`),a.async=!0;const u=window.setTimeout(()=>(c(),o(new Error("Timeout"))),n);window[l]=f=>(c(),i(f)),a.addEventListener("error",f=>(c(),o(f)));function c(){window[l]=void 0,r.removeChild(a),window.clearTimeout(u),a=null}r.appendChild(a)})}const Le="4.24.7";let Gs=!1,nt,Qr,Yr,Bn,Zr,ei,ti,ni,si;function ea(t,e={auto:!1}){if(Gs)throw new Error(`you must \`import 'openai/shims/${t.kind}'\` before importing anything else from openai`);if(nt)throw new Error(`can't \`import 'openai/shims/${t.kind}'\` after \`import 'openai/shims/${nt}'\``);Gs=e.auto,nt=t.kind,Qr=t.fetch,t.Request,t.Response,t.Headers,Yr=t.FormData,t.Blob,Bn=t.File,Zr=t.ReadableStream,ei=t.getMultipartRequestOptions,ti=t.getDefaultAgent,ni=t.fileFromPath,si=t.isFsReadStream}class ta{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}function na({manuallyImported:t}={}){const e=t?"You may need to use polyfills":"Add one of these imports before your first `import … from 'openai'`:\n- `import 'openai/shims/node'` (if you're running on Node)\n- `import 'openai/shims/web'` (otherwise)\n";let n,s,r,i;try{n=fetch,s=Request,r=Response,i=Headers}catch(o){throw new Error(`this environment is missing the following Web Fetch API type: ${o.message}. ${e}`)}return{kind:"web",fetch:n,Request:s,Response:r,Headers:i,FormData:typeof FormData<"u"?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${e}`)}},Blob:typeof Blob<"u"?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${e}`)}},File:typeof File<"u"?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${e}`)}},ReadableStream:typeof ReadableStream<"u"?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${e}`)}},getMultipartRequestOptions:async(o,a)=>({...a,body:new ta(o)}),getDefaultAgent:o=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/openai/openai-node#file-uploads")},isFsReadStream:o=>!1}}nt||ea(na(),{auto:!0});class z extends Error{}class se extends z{constructor(e,n,s,r){super(`${se.makeMessage(e,n,s)}`),this.status=e,this.headers=r;const i=n;this.error=i,this.code=i==null?void 0:i.code,this.param=i==null?void 0:i.param,this.type=i==null?void 0:i.type}static makeMessage(e,n,s){const r=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):s;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,n,s,r){if(!e)return new un({cause:jn(n)});const i=n==null?void 0:n.error;return e===400?new ri(e,i,s,r):e===401?new ii(e,i,s,r):e===403?new oi(e,i,s,r):e===404?new ai(e,i,s,r):e===409?new li(e,i,s,r):e===422?new ui(e,i,s,r):e===429?new ci(e,i,s,r):e>=500?new fi(e,i,s,r):new se(e,i,s,r)}}class Fe extends se{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}}class un extends se{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,n&&(this.cause=n)}}class Zn extends un{constructor({message:e}={}){super({message:e??"Request timed out."})}}class ri extends se{constructor(){super(...arguments),this.status=400}}class ii extends se{constructor(){super(...arguments),this.status=401}}class oi extends se{constructor(){super(...arguments),this.status=403}}class ai extends se{constructor(){super(...arguments),this.status=404}}class li extends se{constructor(){super(...arguments),this.status=409}}class ui extends se{constructor(){super(...arguments),this.status=422}}class ci extends se{constructor(){super(...arguments),this.status=429}}class fi extends se{}class Ne{constructor(e,n){this.iterator=e,this.controller=n}static fromSSEResponse(e,n){let s=!1;const r=new sa;async function*i(){if(!e.body)throw n.abort(),new z("Attempted to iterate over a response with no body");const a=new Ie,l=Qs(e.body);for await(const u of l)for(const c of a.decode(u)){const f=r.decode(c);f&&(yield f)}for(const u of a.flush()){const c=r.decode(u);c&&(yield c)}}async function*o(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let a=!1;try{for await(const l of i())if(!a){if(l.data.startsWith("[DONE]")){a=!0;continue}if(l.event===null){let u;try{u=JSON.parse(l.data)}catch(c){throw console.error("Could not parse message into JSON:",l.data),console.error("From chunk:",l.raw),c}if(u&&u.error)throw new se(void 0,u.error,void 0,void 0);yield u}}a=!0}catch(l){if(l instanceof Error&&l.name==="AbortError")return;throw l}finally{a||n.abort()}}return new Ne(o,n)}static fromReadableStream(e,n){let s=!1;async function*r(){const o=new Ie,a=Qs(e);for await(const l of a)for(const u of o.decode(l))yield u;for(const l of o.flush())yield l}async function*i(){if(s)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let o=!1;try{for await(const a of r())o||a&&(yield JSON.parse(a));o=!0}catch(a){if(a instanceof Error&&a.name==="AbortError")return;throw a}finally{o||n.abort()}}return new Ne(i,n)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],s=this.iterator(),r=i=>({next:()=>{if(i.length===0){const o=s.next();e.push(o),n.push(o)}return i.shift()}});return[new Ne(()=>r(e),this.controller),new Ne(()=>r(n),this.controller)]}toReadableStream(){const e=this;let n;const s=new TextEncoder;return new Zr({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const a=s.encode(JSON.stringify(i)+`
`);r.enqueue(a)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)==null?void 0:r.call(n))}})}}class sa{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const i={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],i}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,s,r]=ra(e,":");return r.startsWith(" ")&&(r=r.substring(1)),n==="event"?this.event=r:n==="data"&&this.data.push(r),null}}class Ie{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let n=this.decodeText(e);if(this.trailingCR&&(n="\r"+n,this.trailingCR=!1),n.endsWith("\r")&&(this.trailingCR=!0,n=n.slice(0,-1)),!n)return[];const s=Ie.NEWLINE_CHARS.has(n[n.length-1]||"");let r=n.split(Ie.NEWLINE_REGEXP);return r.length===1&&!s?(this.buffer.push(r[0]),[]):(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),s||(this.buffer=[r.pop()||""]),r)}decodeText(e){if(e==null)return"";if(typeof e=="string")return e;if(typeof Buffer<"u"){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new z(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if(typeof TextDecoder<"u"){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new z(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new z("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}Ie.NEWLINE_CHARS=new Set([`
`,"\r","\v","\f","","","","","\u2028","\u2029"]);Ie.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;function ra(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}function Qs(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const di=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function",ia=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&hi(t),hi=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",oa=t=>ia(t)||di(t)||si(t);async function pi(t,e,n={}){var r;if(t=await t,di(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new Bn([i],e,n)}const s=await aa(t);if(e||(e=ua(t)??"unknown_file"),!n.type){const i=(r=s[0])==null?void 0:r.type;typeof i=="string"&&(n={...n,type:i})}return new Bn(s,e,n)}async function aa(t){var n;let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(hi(t))e.push(await t.arrayBuffer());else if(ca(t))for await(const s of t)e.push(s);else throw new Error(`Unexpected data type: ${typeof t}; constructor: ${(n=t==null?void 0:t.constructor)==null?void 0:n.name}; props: ${la(t)}`);return e}function la(t){return`[${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}function ua(t){var e;return $n(t.name)||$n(t.filename)||((e=$n(t.path))==null?void 0:e.split(/[\\/]/).pop())}const $n=t=>{if(typeof t=="string")return t;if(typeof Buffer<"u"&&t instanceof Buffer)return String(t)},ca=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",Ys=t=>t&&typeof t=="object"&&t.body&&t[Symbol.toStringTag]==="MultipartBody",ot=async t=>{const e=await fa(t.body);return ei(e,t)},fa=async t=>{const e=new Yr;return await Promise.all(Object.entries(t||{}).map(([n,s])=>Mn(e,n,s))),e},Mn=async(t,e,n)=>{if(n!==void 0){if(n==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")t.append(e,String(n));else if(oa(n)){const s=await pi(n);t.append(e,s)}else if(Array.isArray(n))await Promise.all(n.map(s=>Mn(t,e+"[]",s)));else if(typeof n=="object")await Promise.all(Object.entries(n).map(([s,r])=>Mn(t,`${e}[${s}]`,r)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`)}};var yt={},da=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},ha=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},mt;async function mi(t){const{response:e}=t;if(t.options.stream)return st("response",e.status,e.url,e.headers,e.body),Ne.fromSSEResponse(e,t.controller);if(e.status===204)return null;if(t.options.__binaryResponse)return e;const n=e.headers.get("content-type");if(n!=null&&n.includes("application/json")){const r=await e.json();return st("response",e.status,e.url,e.headers,r),r}const s=await e.text();return st("response",e.status,e.url,e.headers,s),s}class cn extends Promise{constructor(e,n=mi){super(s=>{s(null)}),this.responsePromise=e,this.parseResponse=n}_thenUnwrap(e){return new cn(this.responsePromise,async n=>e(await this.parseResponse(n)))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class pa{constructor({baseURL:e,maxRetries:n=2,timeout:s=6e5,httpAgent:r,fetch:i}){this.baseURL=e,this.maxRetries=Cn("maxRetries",n),this.timeout=Cn("timeout",s),this.httpAgent=r,this.fetch=i??Qr}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...ya(),...this.authHeaders(e)}}validateHeaders(e,n){}defaultIdempotencyKey(){return`stainless-node-retry-${Ra()}`}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,s){return this.request(Promise.resolve(s).then(r=>({method:e,path:n,...r})))}getAPIList(e,n,s){return this.requestAPIList(n,{method:"get",path:e,...s})}calculateContentLength(e){if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.byteLength(e,"utf8").toString();if(typeof TextEncoder<"u")return new TextEncoder().encode(e).length.toString()}return null}buildRequest(e){var d;const{method:n,path:s,query:r,headers:i={}}=e,o=Ys(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(o),l=this.buildURL(s,r);"timeout"in e&&Cn("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??ti(l),f=u+1e3;typeof((d=c==null?void 0:c.options)==null?void 0:d.timeout)=="number"&&f>(c.options.timeout??0)&&(c.options.timeout=f),this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);const p=this.buildHeaders({options:e,headers:i,contentLength:a});return{req:{method:n,...o&&{body:o},headers:p,...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders({options:e,headers:n,contentLength:s}){const r={};s&&(r["content-length"]=s);const i=this.defaultHeaders(e);return nr(r,i),nr(r,n),Ys(e.body)&&nt!=="node"&&delete r["content-type"],this.validateHeaders(r,n),r}async prepareRequest(e,{url:n,options:s}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map(n=>[...n])):{...e}:{}}makeStatusError(e,n,s,r){return se.generate(e,n,s,r)}request(e,n=null){return new cn(this.makeRequest(e,n))}async makeRequest(e,n){var c,f;const s=await e;n==null&&(n=s.maxRetries??this.maxRetries);const{req:r,url:i,timeout:o}=this.buildRequest(s);if(await this.prepareRequest(r,{url:i,options:s}),st("request",i,s,r.headers),(c=s.signal)!=null&&c.aborted)throw new Fe;const a=new AbortController,l=await this.fetchWithTimeout(i,r,o,a).catch(jn);if(l instanceof Error){if((f=s.signal)!=null&&f.aborted)throw new Fe;if(n)return this.retryRequest(s,n);throw l.name==="AbortError"?new Zn:new un({cause:l})}const u=_a(l.headers);if(!l.ok){if(n&&this.shouldRetry(l))return this.retryRequest(s,n,u);const p=await l.text().catch(_=>jn(_).message),m=$a(p),d=m?void 0:p;throw st("response",l.status,i,u,d),this.makeStatusError(l.status,m,d,u)}return{response:l,options:s,controller:a}}requestAPIList(e,n){const s=this.makeRequest(n,null);return new ma(this,s,e)}buildURL(e,n){const s=Sa(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return wi(r)||(n={...r,...n}),typeof n=="object"&&n&&!Array.isArray(n)&&(s.search=this.stringifyQuery(n)),s.toString()}stringifyQuery(e){return Object.entries(e).filter(([n,s])=>typeof s<"u").map(([n,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(n)}=`;throw new z(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}async fetchWithTimeout(e,n,s,r){const{signal:i,...o}=n||{};i&&i.addEventListener("abort",()=>r.abort());const a=setTimeout(()=>r.abort(),s);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...o}).finally(()=>{clearTimeout(a)})}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,s){let r;const i=s==null?void 0:s["retry-after"];if(i){const o=parseInt(i);Number.isNaN(o)?r=Date.parse(i)-Date.now():r=o*1e3}if(!r||!Number.isInteger(r)||r<=0||r>60*1e3){const o=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(n,o)}return await gi(r),this.makeRequest(e,n-1)}calculateDefaultRetryTimeoutMillis(e,n){const i=n-e,o=Math.min(.5*Math.pow(2,i),8),a=1-Math.random()*.25;return o*a*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Le}`}}class _i{constructor(e,n,s,r){mt.set(this,void 0),da(this,mt,e,"f"),this.options=r,this.response=n,this.body=s}hasNextPage(){return this.getPaginatedItems().length?this.nextPageInfo()!=null:!1}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new z("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const n={...this.options};if("params"in e&&typeof n.query=="object")n.query={...n.query,...e.params};else if("url"in e){const s=[...Object.entries(n.query||{}),...e.url.searchParams.entries()];for(const[r,i]of s)e.url.searchParams.set(r,i);n.query=void 0,n.path=e.url.toString()}return await ha(this,mt,"f").requestAPIList(this.constructor,n)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(mt=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const n of e.getPaginatedItems())yield n}}class ma extends cn{constructor(e,n,s){super(n,async r=>new s(e,r.response,await mi(r),r.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const n of e)yield n}}const _a=t=>new Proxy(Object.fromEntries(t.entries()),{get(e,n){const s=n.toString();return e[s.toLowerCase()]||e[s]}}),ga={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryResponse:!0},we=t=>typeof t=="object"&&t!==null&&!wi(t)&&Object.keys(t).every(e=>bi(ga,e)),wa=()=>{if(typeof Deno<"u"&&Deno.build!=null)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Le,"X-Stainless-OS":er(Deno.build.os),"X-Stainless-Arch":Zs(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":Deno.version};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Le,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if(Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Le,"X-Stainless-OS":er(process.platform),"X-Stainless-Arch":Zs(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const t=ba();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Le,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Le,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ba(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const s=n.exec(navigator.userAgent);if(s){const r=s[1]||0,i=s[2]||0,o=s[3]||0;return{browser:e,version:`${r}.${i}.${o}`}}}return null}const Zs=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",er=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let tr;const ya=()=>tr??(tr=wa()),$a=t=>{try{return JSON.parse(t)}catch{return}},Ca=new RegExp("^(?:[a-z]+:)?//","i"),Sa=t=>Ca.test(t),gi=t=>new Promise(e=>setTimeout(e,t)),Cn=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new z(`${t} must be an integer`);if(e<0)throw new z(`${t} must be a positive integer`);return e},jn=t=>t instanceof Error?t:new Error(t),Sn=t=>{var e,n,s,r;if(typeof process<"u")return((e=yt==null?void 0:yt[t])==null?void 0:e.trim())??void 0;if(typeof Deno<"u")return(r=(s=(n=Deno.env)==null?void 0:n.get)==null?void 0:s.call(n,t))==null?void 0:r.trim()};function wi(t){if(!t)return!0;for(const e in t)return!1;return!0}function bi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nr(t,e){for(const n in e){if(!bi(e,n))continue;const s=n.toLowerCase();if(!s)continue;const r=e[n];r===null?delete t[s]:r!==void 0&&(t[s]=r)}}function st(t,...e){typeof process<"u"&&yt.DEBUG==="true"&&console.log(`OpenAI:DEBUG:${t}`,...e)}const Ra=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)}),Ea=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";class es extends _i{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[],this.object=s.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}class Ae extends _i{constructor(e,n,s,r){super(e,n,s,r),this.data=s.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const n=Object.fromEntries(e.url.searchParams);return Object.keys(n).length?n:null}nextPageInfo(){var s;const e=this.getPaginatedItems();if(!e.length)return null;const n=(s=e[e.length-1])==null?void 0:s.id;return n?{params:{after:n}}:null}}class K{constructor(e){this._client=e}}let Ft=class extends K{create(e,n){return this._client.post("/chat/completions",{body:e,...n,stream:e.stream??!1})}};Ft||(Ft={});let It=class extends K{constructor(){super(...arguments),this.completions=new Ft(this._client)}};(function(t){t.Completions=Ft})(It||(It={}));class xt extends K{create(e,n){return this._client.post("/audio/speech",{body:e,...n,__binaryResponse:!0})}}xt||(xt={});class Bt extends K{create(e,n){return this._client.post("/audio/transcriptions",ot({body:e,...n}))}}Bt||(Bt={});class Mt extends K{create(e,n){return this._client.post("/audio/translations",ot({body:e,...n}))}}Mt||(Mt={});class jt extends K{constructor(){super(...arguments),this.transcriptions=new Bt(this._client),this.translations=new Mt(this._client),this.speech=new xt(this._client)}}(function(t){t.Transcriptions=Bt,t.Translations=Mt,t.Speech=xt})(jt||(jt={}));let Lt=class extends K{create(e,n,s){return this._client.post(`/assistants/${e}/files`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/assistants/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}list(e,n={},s){return we(n)?this.list(e,{},n):this._client.getAPIList(`/assistants/${e}/files`,ts,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}del(e,n,s){return this._client.delete(`/assistants/${e}/files/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}};class ts extends Ae{}(function(t){t.AssistantFilesPage=ts})(Lt||(Lt={}));class Dt extends K{constructor(){super(...arguments),this.files=new Lt(this._client)}create(e,n){return this._client.post("/assistants",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/assistants/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}list(e={},n){return we(e)?this.list({},e):this._client.getAPIList("/assistants",ns,{query:e,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}del(e,n){return this._client.delete(`/assistants/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}}class ns extends Ae{}(function(t){t.AssistantsPage=ns,t.Files=Lt,t.AssistantFilesPage=ts})(Dt||(Dt={}));function sr(t){return typeof t.parse=="function"}const He=t=>(t==null?void 0:t.role)==="assistant",yi=t=>(t==null?void 0:t.role)==="function",$i=t=>(t==null?void 0:t.role)==="tool";var he=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},j=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},ne,$t,Ct,Ye,Ze,St,et,Ce,tt,Rt,Et,De,Ln,qt,Dn,qn,Un,Hn,Ci,Wn;const rr=10;class Si{constructor(){ne.add(this),this.controller=new AbortController,$t.set(this,void 0),Ct.set(this,()=>{}),Ye.set(this,()=>{}),Ze.set(this,void 0),St.set(this,()=>{}),et.set(this,()=>{}),Ce.set(this,{}),this._chatCompletions=[],this.messages=[],tt.set(this,!1),Rt.set(this,!1),Et.set(this,!1),De.set(this,!1),Hn.set(this,e=>{if(he(this,Rt,!0,"f"),e instanceof Error&&e.name==="AbortError"&&(e=new Fe),e instanceof Fe)return he(this,Et,!0,"f"),this._emit("abort",e);if(e instanceof z)return this._emit("error",e);if(e instanceof Error){const n=new z(e.message);return n.cause=e,this._emit("error",n)}return this._emit("error",new z(String(e)))}),he(this,$t,new Promise((e,n)=>{he(this,Ct,e,"f"),he(this,Ye,n,"f")}),"f"),he(this,Ze,new Promise((e,n)=>{he(this,St,e,"f"),he(this,et,n,"f")}),"f"),j(this,$t,"f").catch(()=>{}),j(this,Ze,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},j(this,Hn,"f"))},0)}_addChatCompletion(e){var s;this._chatCompletions.push(e),this._emit("chatCompletion",e);const n=(s=e.choices[0])==null?void 0:s.message;return n&&this._addMessage(n),e}_addMessage(e,n=!0){if("content"in e||(e.content=null),this.messages.push(e),n){if(this._emit("message",e),(yi(e)||$i(e))&&e.content)this._emit("functionCallResult",e.content);else if(He(e)&&e.function_call)this._emit("functionCall",e.function_call);else if(He(e)&&e.tool_calls)for(const s of e.tool_calls)s.type==="function"&&this._emit("functionCall",s.function)}}_connected(){this.ended||(j(this,Ct,"f").call(this),this._emit("connect"))}get ended(){return j(this,tt,"f")}get errored(){return j(this,Rt,"f")}get aborted(){return j(this,Et,"f")}abort(){this.controller.abort()}on(e,n){return(j(this,Ce,"f")[e]||(j(this,Ce,"f")[e]=[])).push({listener:n}),this}off(e,n){const s=j(this,Ce,"f")[e];if(!s)return this;const r=s.findIndex(i=>i.listener===n);return r>=0&&s.splice(r,1),this}once(e,n){return(j(this,Ce,"f")[e]||(j(this,Ce,"f")[e]=[])).push({listener:n,once:!0}),this}emitted(e){return new Promise((n,s)=>{he(this,De,!0,"f"),e!=="error"&&this.once("error",s),this.once(e,n)})}async done(){he(this,De,!0,"f"),await j(this,Ze,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new z("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),j(this,ne,"m",Ln).call(this)}async finalMessage(){return await this.done(),j(this,ne,"m",qt).call(this)}async finalFunctionCall(){return await this.done(),j(this,ne,"m",Dn).call(this)}async finalFunctionCallResult(){return await this.done(),j(this,ne,"m",qn).call(this)}async totalUsage(){return await this.done(),j(this,ne,"m",Un).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...n){if(j(this,tt,"f"))return;e==="end"&&(he(this,tt,!0,"f"),j(this,St,"f").call(this));const s=j(this,Ce,"f")[e];if(s&&(j(this,Ce,"f")[e]=s.filter(r=>!r.once),s.forEach(({listener:r})=>r(...n))),e==="abort"){const r=n[0];!j(this,De,"f")&&!(s!=null&&s.length)&&Promise.reject(r),j(this,Ye,"f").call(this,r),j(this,et,"f").call(this,r),this._emit("end");return}if(e==="error"){const r=n[0];!j(this,De,"f")&&!(s!=null&&s.length)&&Promise.reject(r),j(this,Ye,"f").call(this,r),j(this,et,"f").call(this,r),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const n=j(this,ne,"m",qt).call(this);n&&this._emit("finalMessage",n);const s=j(this,ne,"m",Ln).call(this);s&&this._emit("finalContent",s);const r=j(this,ne,"m",Dn).call(this);r&&this._emit("finalFunctionCall",r);const i=j(this,ne,"m",qn).call(this);i!=null&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some(o=>o.usage)&&this._emit("totalUsage",j(this,ne,"m",Un).call(this))}async _createChatCompletion(e,n,s){const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),j(this,ne,"m",Ci).call(this,n);const i=await e.create({...n,stream:!1},{...s,signal:this.controller.signal});return this._connected(),this._addChatCompletion(i)}async _runChatCompletion(e,n,s){for(const r of n.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,n,s)}async _runFunctions(e,n,s){var p;const r="function",{function_call:i="auto",stream:o,...a}=n,l=typeof i!="string"&&(i==null?void 0:i.name),{maxChatCompletions:u=rr}=s||{},c={};for(const m of n.functions)c[m.name||m.function.name]=m;const f=n.functions.map(m=>({name:m.name||m.function.name,parameters:m.parameters,description:m.description}));for(const m of n.messages)this._addMessage(m,!1);for(let m=0;m<u;++m){const h=(p=(await this._createChatCompletion(e,{...a,function_call:i,functions:f,messages:[...this.messages]},s)).choices[0])==null?void 0:p.message;if(!h)throw new z("missing message in ChatCompletion response");if(!h.function_call)return;const{name:_,arguments:A}=h.function_call,$=c[_];if($){if(l&&l!==_){const k=`Invalid function_call: ${JSON.stringify(_)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,name:_,content:k});continue}}else{const k=`Invalid function_call: ${JSON.stringify(_)}. Available options are: ${f.map(x=>JSON.stringify(x.name)).join(", ")}. Please try again`;this._addMessage({role:r,name:_,content:k});continue}let R;try{R=sr($)?await $.parse(A):A}catch(k){this._addMessage({role:r,name:_,content:k instanceof Error?k.message:String(k)});continue}const T=await $.function(R,this),J=j(this,ne,"m",Wn).call(this,T);if(this._addMessage({role:r,name:_,content:J}),l)return}}async _runTools(e,n,s){var p,m;const r="tool",{tool_choice:i="auto",stream:o,...a}=n,l=typeof i!="string"&&((p=i==null?void 0:i.function)==null?void 0:p.name),{maxChatCompletions:u=rr}=s||{},c={};for(const d of n.tools)d.type==="function"&&(c[d.function.name||d.function.function.name]=d.function);const f="tools"in n?n.tools.map(d=>d.type==="function"?{type:"function",function:{name:d.function.name||d.function.function.name,parameters:d.function.parameters,description:d.function.description}}:d):void 0;for(const d of n.messages)this._addMessage(d,!1);for(let d=0;d<u;++d){const _=(m=(await this._createChatCompletion(e,{...a,tool_choice:i,tools:f,messages:[...this.messages]},s)).choices[0])==null?void 0:m.message;if(!_)throw new z("missing message in ChatCompletion response");if(!_.tool_calls)return;for(const A of _.tool_calls){if(A.type!=="function")continue;const $=A.id,{name:R,arguments:T}=A.function,J=c[R];if(J){if(l&&l!==R){const N=`Invalid tool_call: ${JSON.stringify(R)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:r,tool_call_id:$,content:N});continue}}else{const N=`Invalid tool_call: ${JSON.stringify(R)}. Available options are: ${f.map(M=>JSON.stringify(M.function.name)).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:$,content:N});continue}let k;try{k=sr(J)?await J.parse(T):T}catch(N){const M=N instanceof Error?N.message:String(N);this._addMessage({role:r,tool_call_id:$,content:M});continue}const x=await J.function(k,this),W=j(this,ne,"m",Wn).call(this,x);if(this._addMessage({role:r,tool_call_id:$,content:W}),l)return}}}}$t=new WeakMap,Ct=new WeakMap,Ye=new WeakMap,Ze=new WeakMap,St=new WeakMap,et=new WeakMap,Ce=new WeakMap,tt=new WeakMap,Rt=new WeakMap,Et=new WeakMap,De=new WeakMap,Hn=new WeakMap,ne=new WeakSet,Ln=function(){return j(this,ne,"m",qt).call(this).content??null},qt=function(){let e=this.messages.length;for(;e-- >0;){const n=this.messages[e];if(He(n))return{...n,content:n.content??null}}throw new z("stream ended without producing a ChatCompletionMessage with role=assistant")},Dn=function(){var e,n;for(let s=this.messages.length-1;s>=0;s--){const r=this.messages[s];if(He(r)&&(r!=null&&r.function_call))return r.function_call;if(He(r)&&((e=r==null?void 0:r.tool_calls)!=null&&e.length))return(n=r.tool_calls.at(-1))==null?void 0:n.function}},qn=function(){for(let e=this.messages.length-1;e>=0;e--){const n=this.messages[e];if(yi(n)&&n.content!=null||$i(n)&&n.content!=null&&this.messages.some(s=>{var r;return s.role==="assistant"&&((r=s.tool_calls)==null?void 0:r.some(i=>i.type==="function"&&i.id===n.tool_call_id))}))return n.content}},Un=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:n}of this._chatCompletions)n&&(e.completion_tokens+=n.completion_tokens,e.prompt_tokens+=n.prompt_tokens,e.total_tokens+=n.total_tokens);return e},Ci=function(e){if(e.n!=null&&e.n>1)throw new z("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Wn=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class at extends Si{static runFunctions(e,n,s){const r=new at,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new at,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}_addMessage(e){super._addMessage(e),He(e)&&e.content&&this._emit("content",e.content)}}var pe=function(t,e,n,s){if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?s:n==="a"?s.call(t):s?s.value:e.get(t)},Rn=function(t,e,n,s,r){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?r.call(t,n):r?r.value=n:e.set(t,n),n},me,ke,En,An,_t,ir;class lt extends Si{constructor(){super(...arguments),me.add(this),ke.set(this,void 0)}get currentChatCompletionSnapshot(){return pe(this,ke,"f")}static fromReadableStream(e){const n=new lt;return n._run(()=>n._fromReadableStream(e)),n}static createChatCompletion(e,n,s){const r=new lt;return r._run(()=>r._runChatCompletion(e,{...n,stream:!0},{...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"stream"}})),r}async _createChatCompletion(e,n,s){var o;const r=s==null?void 0:s.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",()=>this.controller.abort())),pe(this,me,"m",En).call(this);const i=await e.create({...n,stream:!0},{...s,signal:this.controller.signal});this._connected();for await(const a of i)pe(this,me,"m",An).call(this,a);if((o=i.controller.signal)!=null&&o.aborted)throw new Fe;return this._addChatCompletion(pe(this,me,"m",_t).call(this))}async _fromReadableStream(e,n){var o;const s=n==null?void 0:n.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),pe(this,me,"m",En).call(this),this._connected();const r=Ne.fromReadableStream(e,this.controller);let i;for await(const a of r)i&&i!==a.id&&this._addChatCompletion(pe(this,me,"m",_t).call(this)),pe(this,me,"m",An).call(this,a),i=a.id;if((o=r.controller.signal)!=null&&o.aborted)throw new Fe;return this._addChatCompletion(pe(this,me,"m",_t).call(this))}[(ke=new WeakMap,me=new WeakSet,En=function(){this.ended||Rn(this,ke,void 0,"f")},An=function(n){var o,a,l;if(this.ended)return;const s=pe(this,me,"m",ir).call(this,n);this._emit("chunk",n,s);const r=(a=(o=n.choices[0])==null?void 0:o.delta)==null?void 0:a.content,i=(l=s.choices[0])==null?void 0:l.message;r!=null&&(i==null?void 0:i.role)==="assistant"&&(i!=null&&i.content)&&this._emit("content",r,i.content)},_t=function(){if(this.ended)throw new z("stream has ended, this shouldn't happen");const n=pe(this,ke,"f");if(!n)throw new z("request ended without sending any chunks");return Rn(this,ke,void 0,"f"),Aa(n)},ir=function(n){var s,r,i;let o=pe(this,ke,"f");const{choices:a,...l}=n;o?Object.assign(o,l):o=Rn(this,ke,{...l,choices:[]},"f");for(const{delta:u,finish_reason:c,index:f,logprobs:p=null,...m}of n.choices){let d=o.choices[f];if(!d){o.choices[f]={finish_reason:c,index:f,message:u,logprobs:p,...m};continue}if(p&&(d.logprobs?p.content&&((s=d.logprobs).content??(s.content=[]),d.logprobs.content.push(...p.content)):d.logprobs=p),c&&(d.finish_reason=c),Object.assign(d,m),!u)continue;const{content:h,function_call:_,role:A,tool_calls:$}=u;if(h&&(d.message.content=(d.message.content||"")+h),A&&(d.message.role=A),_&&(d.message.function_call?(_.name&&(d.message.function_call.name=_.name),_.arguments&&((r=d.message.function_call).arguments??(r.arguments=""),d.message.function_call.arguments+=_.arguments)):d.message.function_call=_),$){d.message.tool_calls||(d.message.tool_calls=[]);for(const{index:R,id:T,type:J,function:k}of $){const x=(i=d.message.tool_calls)[R]??(i[R]={});T&&(x.id=T),J&&(x.type=J),k&&(x.function??(x.function={arguments:""})),k!=null&&k.name&&(x.function.name=k.name),k!=null&&k.arguments&&(x.function.arguments+=k.arguments)}}}return o},Symbol.asyncIterator)](){const e=[],n=[];let s=!1;return this.on("chunk",r=>{const i=n.shift();i?i(r):e.push(r)}),this.on("end",()=>{s=!0;for(const r of n)r(void 0);n.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:s?{value:void 0,done:!0}:new Promise(i=>n.push(i)).then(i=>i?{value:i,done:!1}:{value:void 0,done:!0})}}toReadableStream(){return new Ne(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function Aa(t){const{id:e,choices:n,created:s,model:r}=t;return{id:e,choices:n.map(({message:i,finish_reason:o,index:a,logprobs:l})=>{if(!o)throw new z(`missing finish_reason for choice ${a}`);const{content:u=null,function_call:c,tool_calls:f}=i,p=i.role;if(!p)throw new z(`missing role for choice ${a}`);if(c){const{arguments:m,name:d}=c;if(m==null)throw new z(`missing function_call.arguments for choice ${a}`);if(!d)throw new z(`missing function_call.name for choice ${a}`);return{message:{content:u,function_call:{arguments:m,name:d},role:p},finish_reason:o,index:a,logprobs:l}}return f?{index:a,finish_reason:o,logprobs:l,message:{role:p,content:u,tool_calls:f.map((m,d)=>{const{function:h,type:_,id:A}=m,{arguments:$,name:R}=h||{};if(A==null)throw new z(`missing choices[${a}].tool_calls[${d}].id
${gt(t)}`);if(_==null)throw new z(`missing choices[${a}].tool_calls[${d}].type
${gt(t)}`);if(R==null)throw new z(`missing choices[${a}].tool_calls[${d}].function.name
${gt(t)}`);if($==null)throw new z(`missing choices[${a}].tool_calls[${d}].function.arguments
${gt(t)}`);return{id:A,type:_,function:{name:R,arguments:$}}})}}:{message:{content:u,role:p},finish_reason:o,index:a,logprobs:l}}),created:s,model:r,object:"chat.completion"}}function gt(t){return JSON.stringify(t)}class We extends lt{static fromReadableStream(e){const n=new We;return n._run(()=>n._fromReadableStream(e)),n}static runFunctions(e,n,s){const r=new We,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run(()=>r._runFunctions(e,n,i)),r}static runTools(e,n,s){const r=new We,i={...s,headers:{...s==null?void 0:s.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run(()=>r._runTools(e,n,i)),r}}let Ri=class extends K{runFunctions(e,n){return e.stream?We.runFunctions(this._client.chat.completions,e,n):at.runFunctions(this._client.chat.completions,e,n)}runTools(e,n){return e.stream?We.runTools(this._client.chat.completions,e,n):at.runTools(this._client.chat.completions,e,n)}stream(e,n){return lt.createChatCompletion(this._client.chat.completions,e,n)}};class Ut extends K{constructor(){super(...arguments),this.completions=new Ri(this._client)}}(function(t){t.Completions=Ri})(Ut||(Ut={}));let Ht=class extends K{retrieve(e,n,s,r){return this._client.get(`/threads/${e}/messages/${n}/files/${s}`,{...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}list(e,n,s={},r){return we(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/messages/${n}/files`,ss,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}};class ss extends Ae{}(function(t){t.MessageFilesPage=ss})(Ht||(Ht={}));class Wt extends K{constructor(){super(...arguments),this.files=new Ht(this._client)}create(e,n,s){return this._client.post(`/threads/${e}/messages`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/messages/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/messages/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}list(e,n={},s){return we(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/messages`,rs,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}}class rs extends Ae{}(function(t){t.ThreadMessagesPage=rs,t.Files=Ht,t.MessageFilesPage=ss})(Wt||(Wt={}));class Jt extends K{retrieve(e,n,s,r){return this._client.get(`/threads/${e}/runs/${n}/steps/${s}`,{...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}list(e,n,s={},r){return we(s)?this.list(e,n,{},s):this._client.getAPIList(`/threads/${e}/runs/${n}/steps`,is,{query:s,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}}class is extends Ae{}(function(t){t.RunStepsPage=is})(Jt||(Jt={}));class zt extends K{constructor(){super(...arguments),this.steps=new Jt(this._client)}create(e,n,s){return this._client.post(`/threads/${e}/runs`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}retrieve(e,n,s){return this._client.get(`/threads/${e}/runs/${n}`,{...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}update(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}list(e,n={},s){return we(n)?this.list(e,{},n):this._client.getAPIList(`/threads/${e}/runs`,os,{query:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}cancel(e,n,s){return this._client.post(`/threads/${e}/runs/${n}/cancel`,{...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}submitToolOutputs(e,n,s,r){return this._client.post(`/threads/${e}/runs/${n}/submit_tool_outputs`,{body:s,...r,headers:{"OpenAI-Beta":"assistants=v1",...r==null?void 0:r.headers}})}}class os extends Ae{}(function(t){t.RunsPage=os,t.Steps=Jt,t.RunStepsPage=is})(zt||(zt={}));class Vt extends K{constructor(){super(...arguments),this.runs=new zt(this._client),this.messages=new Wt(this._client)}create(e={},n){return we(e)?this.create({},e):this._client.post("/threads",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}retrieve(e,n){return this._client.get(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}update(e,n,s){return this._client.post(`/threads/${e}`,{body:n,...s,headers:{"OpenAI-Beta":"assistants=v1",...s==null?void 0:s.headers}})}del(e,n){return this._client.delete(`/threads/${e}`,{...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}createAndRun(e,n){return this._client.post("/threads/runs",{body:e,...n,headers:{"OpenAI-Beta":"assistants=v1",...n==null?void 0:n.headers}})}}(function(t){t.Runs=zt,t.RunsPage=os,t.Messages=Wt,t.ThreadMessagesPage=rs})(Vt||(Vt={}));class Xt extends K{constructor(){super(...arguments),this.chat=new Ut(this._client),this.assistants=new Dt(this._client),this.threads=new Vt(this._client)}}(function(t){t.Chat=Ut,t.Assistants=Dt,t.AssistantsPage=ns,t.Threads=Vt})(Xt||(Xt={}));class Kt extends K{create(e,n){return this._client.post("/completions",{body:e,...n,stream:e.stream??!1})}}Kt||(Kt={});class Gt extends K{create(e,n){return this._client.post("/embeddings",{body:e,...n})}}Gt||(Gt={});class Qt extends K{create(e,n){return this._client.post("/files",ot({body:e,...n}))}retrieve(e,n){return this._client.get(`/files/${e}`,n)}list(e={},n){return we(e)?this.list({},e):this._client.getAPIList("/files",as,{query:e,...n})}del(e,n){return this._client.delete(`/files/${e}`,n)}content(e,n){return this._client.get(`/files/${e}/content`,{...n,__binaryResponse:!0})}retrieveContent(e,n){return this._client.get(`/files/${e}/content`,{...n,headers:{Accept:"application/json",...n==null?void 0:n.headers}})}async waitForProcessing(e,{pollInterval:n=5e3,maxWait:s=30*60*1e3}={}){const r=new Set(["processed","error","deleted"]),i=Date.now();let o=await this.retrieve(e);for(;!o.status||!r.has(o.status);)if(await gi(n),o=await this.retrieve(e),Date.now()-i>s)throw new Zn({message:`Giving up on waiting for file ${e} to finish processing after ${s} milliseconds.`});return o}}class as extends es{}(function(t){t.FileObjectsPage=as})(Qt||(Qt={}));class Yt extends K{create(e,n){return this._client.post("/fine_tuning/jobs",{body:e,...n})}retrieve(e,n){return this._client.get(`/fine_tuning/jobs/${e}`,n)}list(e={},n){return we(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",ls,{query:e,...n})}cancel(e,n){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,n)}listEvents(e,n={},s){return we(n)?this.listEvents(e,{},n):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,us,{query:n,...s})}}class ls extends Ae{}class us extends Ae{}(function(t){t.FineTuningJobsPage=ls,t.FineTuningJobEventsPage=us})(Yt||(Yt={}));class Zt extends K{constructor(){super(...arguments),this.jobs=new Yt(this._client)}}(function(t){t.Jobs=Yt,t.FineTuningJobsPage=ls,t.FineTuningJobEventsPage=us})(Zt||(Zt={}));class en extends K{createVariation(e,n){return this._client.post("/images/variations",ot({body:e,...n}))}edit(e,n){return this._client.post("/images/edits",ot({body:e,...n}))}generate(e,n){return this._client.post("/images/generations",{body:e,...n})}}en||(en={});class tn extends K{retrieve(e,n){return this._client.get(`/models/${e}`,n)}list(e){return this._client.getAPIList("/models",cs,e)}del(e,n){return this._client.delete(`/models/${e}`,n)}}class cs extends es{}(function(t){t.ModelsPage=cs})(tn||(tn={}));class nn extends K{create(e,n){return this._client.post("/moderations",{body:e,...n})}}nn||(nn={});var Ei;class te extends pa{constructor({baseURL:e=Sn("OPENAI_BASE_URL"),apiKey:n=Sn("OPENAI_API_KEY"),organization:s=Sn("OPENAI_ORG_ID")??null,...r}={}){if(n===void 0)throw new z("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:n,organization:s,...r,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&Ea())throw new z(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new Kt(this),this.chat=new It(this),this.embeddings=new Gt(this),this.files=new Qt(this),this.images=new en(this),this.audio=new jt(this),this.moderations=new nn(this),this.models=new tn(this),this.fineTuning=new Zt(this),this.beta=new Xt(this),this._options=i,this.apiKey=n,this.organization=s}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}Ei=te;te.OpenAI=Ei;te.OpenAIError=z;te.APIError=se;te.APIConnectionError=un;te.APIConnectionTimeoutError=Zn;te.APIUserAbortError=Fe;te.NotFoundError=ai;te.ConflictError=li;te.RateLimitError=ci;te.BadRequestError=ri;te.AuthenticationError=ii;te.InternalServerError=fi;te.PermissionDeniedError=oi;te.UnprocessableEntityError=ui;(function(t){t.toFile=pi,t.fileFromPath=ni,t.Page=es,t.CursorPage=Ae,t.Completions=Kt,t.Chat=It,t.Embeddings=Gt,t.Files=Qt,t.FileObjectsPage=as,t.Images=en,t.Audio=jt,t.Moderations=nn,t.Models=tn,t.ModelsPage=cs,t.FineTuning=Zt,t.Beta=Xt})(te||(te={}));const Ai=te;function ki(t,e){return function(){return t.apply(e,arguments)}}const{toString:ka}=Object.prototype,{getPrototypeOf:fs}=Object,fn=(t=>e=>{const n=ka.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$e=t=>(t=t.toLowerCase(),e=>fn(e)===t),dn=t=>e=>typeof e===t,{isArray:Ke}=Array,ut=dn("undefined");function Pa(t){return t!==null&&!ut(t)&&t.constructor!==null&&!ut(t.constructor)&&ce(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Pi=$e("ArrayBuffer");function Oa(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Pi(t.buffer),e}const Ta=dn("string"),ce=dn("function"),Oi=dn("number"),hn=t=>t!==null&&typeof t=="object",Na=t=>t===!0||t===!1,At=t=>{if(fn(t)!=="object")return!1;const e=fs(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},va=$e("Date"),Fa=$e("File"),Ia=$e("Blob"),xa=$e("FileList"),Ba=t=>hn(t)&&ce(t.pipe),Ma=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ce(t.append)&&((e=fn(t))==="formdata"||e==="object"&&ce(t.toString)&&t.toString()==="[object FormData]"))},ja=$e("URLSearchParams"),La=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function dt(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let s,r;if(typeof t!="object"&&(t=[t]),Ke(t))for(s=0,r=t.length;s<r;s++)e.call(null,t[s],s,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(s=0;s<o;s++)a=i[s],e.call(null,t[a],a,t)}}function Ti(t,e){e=e.toLowerCase();const n=Object.keys(t);let s=n.length,r;for(;s-- >0;)if(r=n[s],e===r.toLowerCase())return r;return null}const Ni=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vi=t=>!ut(t)&&t!==Ni;function Jn(){const{caseless:t}=vi(this)&&this||{},e={},n=(s,r)=>{const i=t&&Ti(e,r)||r;At(e[i])&&At(s)?e[i]=Jn(e[i],s):At(s)?e[i]=Jn({},s):Ke(s)?e[i]=s.slice():e[i]=s};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&dt(arguments[s],n);return e}const Da=(t,e,n,{allOwnKeys:s}={})=>(dt(e,(r,i)=>{n&&ce(r)?t[i]=ki(r,n):t[i]=r},{allOwnKeys:s}),t),qa=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ua=(t,e,n,s)=>{t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},Ha=(t,e,n,s)=>{let r,i,o;const a={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)o=r[i],(!s||s(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&fs(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Wa=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const s=t.indexOf(e,n);return s!==-1&&s===n},Ja=t=>{if(!t)return null;if(Ke(t))return t;let e=t.length;if(!Oi(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},za=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fs(Uint8Array)),Va=(t,e)=>{const s=(t&&t[Symbol.iterator]).call(t);let r;for(;(r=s.next())&&!r.done;){const i=r.value;e.call(t,i[0],i[1])}},Xa=(t,e)=>{let n;const s=[];for(;(n=t.exec(e))!==null;)s.push(n);return s},Ka=$e("HTMLFormElement"),Ga=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,r){return s.toUpperCase()+r}),or=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Qa=$e("RegExp"),Fi=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),s={};dt(n,(r,i)=>{let o;(o=e(r,i,t))!==!1&&(s[i]=o||r)}),Object.defineProperties(t,s)},Ya=t=>{Fi(t,(e,n)=>{if(ce(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=t[n];if(ce(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Za=(t,e)=>{const n={},s=r=>{r.forEach(i=>{n[i]=!0})};return Ke(t)?s(t):s(String(t).split(e)),n},el=()=>{},tl=(t,e)=>(t=+t,Number.isFinite(t)?t:e),kn="abcdefghijklmnopqrstuvwxyz",ar="0123456789",Ii={DIGIT:ar,ALPHA:kn,ALPHA_DIGIT:kn+kn.toUpperCase()+ar},nl=(t=16,e=Ii.ALPHA_DIGIT)=>{let n="";const{length:s}=e;for(;t--;)n+=e[Math.random()*s|0];return n};function sl(t){return!!(t&&ce(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const rl=t=>{const e=new Array(10),n=(s,r)=>{if(hn(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[r]=s;const i=Ke(s)?[]:{};return dt(s,(o,a)=>{const l=n(o,r+1);!ut(l)&&(i[a]=l)}),e[r]=void 0,i}}return s};return n(t,0)},il=$e("AsyncFunction"),ol=t=>t&&(hn(t)||ce(t))&&ce(t.then)&&ce(t.catch),b={isArray:Ke,isArrayBuffer:Pi,isBuffer:Pa,isFormData:Ma,isArrayBufferView:Oa,isString:Ta,isNumber:Oi,isBoolean:Na,isObject:hn,isPlainObject:At,isUndefined:ut,isDate:va,isFile:Fa,isBlob:Ia,isRegExp:Qa,isFunction:ce,isStream:Ba,isURLSearchParams:ja,isTypedArray:za,isFileList:xa,forEach:dt,merge:Jn,extend:Da,trim:La,stripBOM:qa,inherits:Ua,toFlatObject:Ha,kindOf:fn,kindOfTest:$e,endsWith:Wa,toArray:Ja,forEachEntry:Va,matchAll:Xa,isHTMLForm:Ka,hasOwnProperty:or,hasOwnProp:or,reduceDescriptors:Fi,freezeMethods:Ya,toObjectSet:Za,toCamelCase:Ga,noop:el,toFiniteNumber:tl,findKey:Ti,global:Ni,isContextDefined:vi,ALPHABET:Ii,generateString:nl,isSpecCompliantForm:sl,toJSONObject:rl,isAsyncFn:il,isThenable:ol};function q(t,e,n,s,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),s&&(this.request=s),r&&(this.response=r)}b.inherits(q,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:b.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const xi=q.prototype,Bi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bi[t]={value:t}});Object.defineProperties(q,Bi);Object.defineProperty(xi,"isAxiosError",{value:!0});q.from=(t,e,n,s,r,i)=>{const o=Object.create(xi);return b.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),q.call(o,t.message,e,n,s,r),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const al=null;function zn(t){return b.isPlainObject(t)||b.isArray(t)}function Mi(t){return b.endsWith(t,"[]")?t.slice(0,-2):t}function lr(t,e,n){return t?t.concat(e).map(function(r,i){return r=Mi(r),!n&&i?"["+r+"]":r}).join(n?".":""):e}function ll(t){return b.isArray(t)&&!t.some(zn)}const ul=b.toFlatObject(b,{},null,function(e){return/^is[A-Z]/.test(e)});function pn(t,e,n){if(!b.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=b.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(h,_){return!b.isUndefined(_[h])});const s=n.metaTokens,r=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&b.isSpecCompliantForm(e);if(!b.isFunction(r))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(b.isDate(d))return d.toISOString();if(!l&&b.isBlob(d))throw new q("Blob is not supported. Use a Buffer instead.");return b.isArrayBuffer(d)||b.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,h,_){let A=d;if(d&&!_&&typeof d=="object"){if(b.endsWith(h,"{}"))h=s?h:h.slice(0,-2),d=JSON.stringify(d);else if(b.isArray(d)&&ll(d)||(b.isFileList(d)||b.endsWith(h,"[]"))&&(A=b.toArray(d)))return h=Mi(h),A.forEach(function(R,T){!(b.isUndefined(R)||R===null)&&e.append(o===!0?lr([h],T,i):o===null?h:h+"[]",u(R))}),!1}return zn(d)?!0:(e.append(lr(_,h,i),u(d)),!1)}const f=[],p=Object.assign(ul,{defaultVisitor:c,convertValue:u,isVisitable:zn});function m(d,h){if(!b.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+h.join("."));f.push(d),b.forEach(d,function(A,$){(!(b.isUndefined(A)||A===null)&&r.call(e,A,b.isString($)?$.trim():$,h,p))===!0&&m(A,h?h.concat($):[$])}),f.pop()}}if(!b.isObject(t))throw new TypeError("data must be an object");return m(t),e}function ur(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function ds(t,e){this._pairs=[],t&&pn(t,this,e)}const ji=ds.prototype;ji.append=function(e,n){this._pairs.push([e,n])};ji.toString=function(e){const n=e?function(s){return e.call(this,s,ur)}:ur;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function cl(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Li(t,e,n){if(!e)return t;const s=n&&n.encode||cl,r=n&&n.serialize;let i;if(r?i=r(e,n):i=b.isURLSearchParams(e)?e.toString():new ds(e,n).toString(s),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class cr{constructor(){this.handlers=[]}use(e,n,s){return this.handlers.push({fulfilled:e,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){b.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Di={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fl=typeof URLSearchParams<"u"?URLSearchParams:ds,dl=typeof FormData<"u"?FormData:null,hl=typeof Blob<"u"?Blob:null,pl={isBrowser:!0,classes:{URLSearchParams:fl,FormData:dl,Blob:hl},protocols:["http","https","file","blob","url","data"]},qi=typeof window<"u"&&typeof document<"u",ml=(t=>qi&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),_l=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:qi,hasStandardBrowserEnv:ml,hasStandardBrowserWebWorkerEnv:_l},Symbol.toStringTag,{value:"Module"})),_e={...gl,...pl};function wl(t,e){return pn(t,new _e.classes.URLSearchParams,Object.assign({visitor:function(n,s,r,i){return _e.isNode&&b.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function bl(t){return b.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yl(t){const e={},n=Object.keys(t);let s;const r=n.length;let i;for(s=0;s<r;s++)i=n[s],e[i]=t[i];return e}function Ui(t){function e(n,s,r,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&b.isArray(r)?r.length:o,l?(b.hasOwnProp(r,o)?r[o]=[r[o],s]:r[o]=s,!a):((!r[o]||!b.isObject(r[o]))&&(r[o]=[]),e(n,s,r[o],i)&&b.isArray(r[o])&&(r[o]=yl(r[o])),!a)}if(b.isFormData(t)&&b.isFunction(t.entries)){const n={};return b.forEachEntry(t,(s,r)=>{e(bl(s),r,n,0)}),n}return null}function $l(t,e,n){if(b.isString(t))try{return(e||JSON.parse)(t),b.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}const hs={transitional:Di,adapter:["xhr","http"],transformRequest:[function(e,n){const s=n.getContentType()||"",r=s.indexOf("application/json")>-1,i=b.isObject(e);if(i&&b.isHTMLForm(e)&&(e=new FormData(e)),b.isFormData(e))return r&&r?JSON.stringify(Ui(e)):e;if(b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e))return e;if(b.isArrayBufferView(e))return e.buffer;if(b.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wl(e,this.formSerializer).toString();if((a=b.isFileList(e))||s.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return pn(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||r?(n.setContentType("application/json",!1),$l(e)):e}],transformResponse:[function(e){const n=this.transitional||hs.transitional,s=n&&n.forcedJSONParsing,r=this.responseType==="json";if(e&&b.isString(e)&&(s&&!this.responseType||r)){const o=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?q.from(a,q.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_e.classes.FormData,Blob:_e.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};b.forEach(["delete","get","head","post","put","patch"],t=>{hs.headers[t]={}});const ps=hs,Cl=b.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sl=t=>{const e={};let n,s,r;return t&&t.split(`
`).forEach(function(o){r=o.indexOf(":"),n=o.substring(0,r).trim().toLowerCase(),s=o.substring(r+1).trim(),!(!n||e[n]&&Cl[n])&&(n==="set-cookie"?e[n]?e[n].push(s):e[n]=[s]:e[n]=e[n]?e[n]+", "+s:s)}),e},fr=Symbol("internals");function Qe(t){return t&&String(t).trim().toLowerCase()}function kt(t){return t===!1||t==null?t:b.isArray(t)?t.map(kt):String(t)}function Rl(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(t);)e[s[1]]=s[2];return e}const El=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Pn(t,e,n,s,r){if(b.isFunction(s))return s.call(this,e,n);if(r&&(e=n),!!b.isString(e)){if(b.isString(s))return e.indexOf(s)!==-1;if(b.isRegExp(s))return s.test(e)}}function Al(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,s)=>n.toUpperCase()+s)}function kl(t,e){const n=b.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(t,s+n,{value:function(r,i,o){return this[s].call(this,e,r,i,o)},configurable:!0})})}class mn{constructor(e){e&&this.set(e)}set(e,n,s){const r=this;function i(a,l,u){const c=Qe(l);if(!c)throw new Error("header name must be a non-empty string");const f=b.findKey(r,c);(!f||r[f]===void 0||u===!0||u===void 0&&r[f]!==!1)&&(r[f||l]=kt(a))}const o=(a,l)=>b.forEach(a,(u,c)=>i(u,c,l));return b.isPlainObject(e)||e instanceof this.constructor?o(e,n):b.isString(e)&&(e=e.trim())&&!El(e)?o(Sl(e),n):e!=null&&i(n,e,s),this}get(e,n){if(e=Qe(e),e){const s=b.findKey(this,e);if(s){const r=this[s];if(!n)return r;if(n===!0)return Rl(r);if(b.isFunction(n))return n.call(this,r,s);if(b.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Qe(e),e){const s=b.findKey(this,e);return!!(s&&this[s]!==void 0&&(!n||Pn(this,this[s],s,n)))}return!1}delete(e,n){const s=this;let r=!1;function i(o){if(o=Qe(o),o){const a=b.findKey(s,o);a&&(!n||Pn(s,s[a],a,n))&&(delete s[a],r=!0)}}return b.isArray(e)?e.forEach(i):i(e),r}clear(e){const n=Object.keys(this);let s=n.length,r=!1;for(;s--;){const i=n[s];(!e||Pn(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){const n=this,s={};return b.forEach(this,(r,i)=>{const o=b.findKey(s,i);if(o){n[o]=kt(r),delete n[i];return}const a=e?Al(i):String(i).trim();a!==i&&delete n[i],n[a]=kt(r),s[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return b.forEach(this,(s,r)=>{s!=null&&s!==!1&&(n[r]=e&&b.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const s=new this(e);return n.forEach(r=>s.set(r)),s}static accessor(e){const s=(this[fr]=this[fr]={accessors:{}}).accessors,r=this.prototype;function i(o){const a=Qe(o);s[a]||(kl(r,o),s[a]=!0)}return b.isArray(e)?e.forEach(i):i(e),this}}mn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);b.reduceDescriptors(mn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(s){this[n]=s}}});b.freezeMethods(mn);const Re=mn;function On(t,e){const n=this||ps,s=e||n,r=Re.from(s.headers);let i=s.data;return b.forEach(t,function(a){i=a.call(n,i,r.normalize(),e?e.status:void 0)}),r.normalize(),i}function Hi(t){return!!(t&&t.__CANCEL__)}function ht(t,e,n){q.call(this,t??"canceled",q.ERR_CANCELED,e,n),this.name="CanceledError"}b.inherits(ht,q,{__CANCEL__:!0});function Pl(t,e,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?t(n):e(new q("Request failed with status code "+n.status,[q.ERR_BAD_REQUEST,q.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ol=_e.hasStandardBrowserEnv?{write(t,e,n,s,r,i){const o=[t+"="+encodeURIComponent(e)];b.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),b.isString(s)&&o.push("path="+s),b.isString(r)&&o.push("domain="+r),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Tl(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Nl(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Wi(t,e){return t&&!Tl(e)?Nl(t,e):e}const vl=_e.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let s;function r(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=r(window.location.href),function(o){const a=b.isString(o)?r(o):o;return a.protocol===s.protocol&&a.host===s.host}}():function(){return function(){return!0}}();function Fl(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Il(t,e){t=t||10;const n=new Array(t),s=new Array(t);let r=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=s[i];o||(o=u),n[r]=l,s[r]=u;let f=i,p=0;for(;f!==r;)p+=n[f++],f=f%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),u-o<e)return;const m=c&&u-c;return m?Math.round(p*1e3/m):void 0}}function dr(t,e){let n=0;const s=Il(50,250);return r=>{const i=r.loaded,o=r.lengthComputable?r.total:void 0,a=i-n,l=s(a),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:r};c[e?"download":"upload"]=!0,t(c)}}const xl=typeof XMLHttpRequest<"u",Bl=xl&&function(t){return new Promise(function(n,s){let r=t.data;const i=Re.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let c;if(b.isFormData(r)){if(_e.hasStandardBrowserEnv||_e.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if((c=i.getContentType())!==!1){const[h,..._]=c?c.split(";").map(A=>A.trim()).filter(Boolean):[];i.setContentType([h||"multipart/form-data",..._].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const h=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(h+":"+_))}const p=Wi(t.baseURL,t.url);f.open(t.method.toUpperCase(),Li(p,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function m(){if(!f)return;const h=Re.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:h,config:t,request:f};Pl(function(R){n(R),u()},function(R){s(R),u()},A),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(s(new q("Request aborted",q.ECONNABORTED,t,f)),f=null)},f.onerror=function(){s(new q("Network Error",q.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const A=t.transitional||Di;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),s(new q(_,A.clarifyTimeoutError?q.ETIMEDOUT:q.ECONNABORTED,t,f)),f=null},_e.hasStandardBrowserEnv&&(a&&b.isFunction(a)&&(a=a(t)),a||a!==!1&&vl(p))){const h=t.xsrfHeaderName&&t.xsrfCookieName&&Ol.read(t.xsrfCookieName);h&&i.set(t.xsrfHeaderName,h)}r===void 0&&i.setContentType(null),"setRequestHeader"in f&&b.forEach(i.toJSON(),function(_,A){f.setRequestHeader(A,_)}),b.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",dr(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",dr(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=h=>{f&&(s(!h||h.type?new ht(null,t,f):h),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const d=Fl(p);if(d&&_e.protocols.indexOf(d)===-1){s(new q("Unsupported protocol "+d+":",q.ERR_BAD_REQUEST,t));return}f.send(r||null)})},Vn={http:al,xhr:Bl};b.forEach(Vn,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const hr=t=>`- ${t}`,Ml=t=>b.isFunction(t)||t===null||t===!1,Ji={getAdapter:t=>{t=b.isArray(t)?t:[t];const{length:e}=t;let n,s;const r={};for(let i=0;i<e;i++){n=t[i];let o;if(s=n,!Ml(n)&&(s=Vn[(o=String(n)).toLowerCase()],s===void 0))throw new q(`Unknown adapter '${o}'`);if(s)break;r[o||"#"+i]=s}if(!s){const i=Object.entries(r).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?i.length>1?`since :
`+i.map(hr).join(`
`):" "+hr(i[0]):"as no adapter specified";throw new q("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return s},adapters:Vn};function Tn(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ht(null,t)}function pr(t){return Tn(t),t.headers=Re.from(t.headers),t.data=On.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Ji.getAdapter(t.adapter||ps.adapter)(t).then(function(s){return Tn(t),s.data=On.call(t,t.transformResponse,s),s.headers=Re.from(s.headers),s},function(s){return Hi(s)||(Tn(t),s&&s.response&&(s.response.data=On.call(t,t.transformResponse,s.response),s.response.headers=Re.from(s.response.headers))),Promise.reject(s)})}const mr=t=>t instanceof Re?t.toJSON():t;function Je(t,e){e=e||{};const n={};function s(u,c,f){return b.isPlainObject(u)&&b.isPlainObject(c)?b.merge.call({caseless:f},u,c):b.isPlainObject(c)?b.merge({},c):b.isArray(c)?c.slice():c}function r(u,c,f){if(b.isUndefined(c)){if(!b.isUndefined(u))return s(void 0,u,f)}else return s(u,c,f)}function i(u,c){if(!b.isUndefined(c))return s(void 0,c)}function o(u,c){if(b.isUndefined(c)){if(!b.isUndefined(u))return s(void 0,u)}else return s(void 0,c)}function a(u,c,f){if(f in e)return s(u,c);if(f in t)return s(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>r(mr(u),mr(c),!0)};return b.forEach(Object.keys(Object.assign({},t,e)),function(c){const f=l[c]||r,p=f(t[c],e[c],c);b.isUndefined(p)&&f!==a||(n[c]=p)}),n}const zi="1.6.5",ms={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ms[t]=function(s){return typeof s===t||"a"+(e<1?"n ":" ")+t}});const _r={};ms.transitional=function(e,n,s){function r(i,o){return"[Axios v"+zi+"] Transitional option '"+i+"'"+o+(s?". "+s:"")}return(i,o,a)=>{if(e===!1)throw new q(r(o," has been removed"+(n?" in "+n:"")),q.ERR_DEPRECATED);return n&&!_r[o]&&(_r[o]=!0,console.warn(r(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function jl(t,e,n){if(typeof t!="object")throw new q("options must be an object",q.ERR_BAD_OPTION_VALUE);const s=Object.keys(t);let r=s.length;for(;r-- >0;){const i=s[r],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new q("option "+i+" must be "+l,q.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new q("Unknown option "+i,q.ERR_BAD_OPTION)}}const Xn={assertOptions:jl,validators:ms},Pe=Xn.validators;class sn{constructor(e){this.defaults=e,this.interceptors={request:new cr,response:new cr}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Je(this.defaults,n);const{transitional:s,paramsSerializer:r,headers:i}=n;s!==void 0&&Xn.assertOptions(s,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1),r!=null&&(b.isFunction(r)?n.paramsSerializer={serialize:r}:Xn.assertOptions(r,{encode:Pe.function,serialize:Pe.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&b.merge(i.common,i[n.method]);i&&b.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),n.headers=Re.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(h){typeof h.runWhen=="function"&&h.runWhen(n)===!1||(l=l&&h.synchronous,a.unshift(h.fulfilled,h.rejected))});const u=[];this.interceptors.response.forEach(function(h){u.push(h.fulfilled,h.rejected)});let c,f=0,p;if(!l){const d=[pr.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,u),p=d.length,c=Promise.resolve(n);f<p;)c=c.then(d[f++],d[f++]);return c}p=a.length;let m=n;for(f=0;f<p;){const d=a[f++],h=a[f++];try{m=d(m)}catch(_){h.call(this,_);break}}try{c=pr.call(this,m)}catch(d){return Promise.reject(d)}for(f=0,p=u.length;f<p;)c=c.then(u[f++],u[f++]);return c}getUri(e){e=Je(this.defaults,e);const n=Wi(e.baseURL,e.url);return Li(n,e.params,e.paramsSerializer)}}b.forEach(["delete","get","head","options"],function(e){sn.prototype[e]=function(n,s){return this.request(Je(s||{},{method:e,url:n,data:(s||{}).data}))}});b.forEach(["post","put","patch"],function(e){function n(s){return function(i,o,a){return this.request(Je(a||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}sn.prototype[e]=n(),sn.prototype[e+"Form"]=n(!0)});const Pt=sn;class _s{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(r=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](r);s._listeners=null}),this.promise.then=r=>{let i;const o=new Promise(a=>{s.subscribe(a),i=a}).then(r);return o.cancel=function(){s.unsubscribe(i)},o},e(function(i,o,a){s.reason||(s.reason=new ht(i,o,a),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new _s(function(r){e=r}),cancel:e}}}const Ll=_s;function Dl(t){return function(n){return t.apply(null,n)}}function ql(t){return b.isObject(t)&&t.isAxiosError===!0}const Kn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kn).forEach(([t,e])=>{Kn[e]=t});const Ul=Kn;function Vi(t){const e=new Pt(t),n=ki(Pt.prototype.request,e);return b.extend(n,Pt.prototype,e,{allOwnKeys:!0}),b.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return Vi(Je(t,r))},n}const G=Vi(ps);G.Axios=Pt;G.CanceledError=ht;G.CancelToken=Ll;G.isCancel=Hi;G.VERSION=zi;G.toFormData=pn;G.AxiosError=q;G.Cancel=G.CanceledError;G.all=function(e){return Promise.all(e)};G.spread=Dl;G.isAxiosError=ql;G.mergeConfig=Je;G.AxiosHeaders=Re;G.formToJSON=t=>Ui(b.isHTMLForm(t)?new FormData(t):t);G.getAdapter=Ji.getAdapter;G.HttpStatusCode=Ul;G.default=G;function Hl(t){let e,n,s,r,i,o,a,l,u,c,f,p,m,d,h,_,A,$,R,T,J;return{c(){e=y("h2"),e.textContent="今いる都道府県",n=O(),s=y("input"),r=O(),i=y("h2"),i.textContent="今いる市町村",o=O(),a=y("input"),l=O(),u=y("h2"),u.textContent="今いる建物(例:病院)",c=O(),f=y("input"),p=O(),m=y("div"),d=y("input"),h=O(),_=y("div"),_.textContent="自宅ならチェック",A=O(),$=y("div"),R=y("button"),R.textContent="確定",X(s,"type","text"),X(a,"type","text"),X(f,"type","text"),f.disabled=t[3],X(d,"type","checkbox"),X(m,"class","checkbox-container svelte-1jiu2i3"),X($,"class","button-container svelte-1jiu2i3")},m(k,x){w(k,e,x),w(k,n,x),w(k,s,x),B(s,t[0]),w(k,r,x),w(k,i,x),w(k,o,x),w(k,a,x),B(a,t[1]),w(k,l,x),w(k,u,x),w(k,c,x),w(k,f,x),B(f,t[2]),w(k,p,x),w(k,m,x),P(m,d),P(m,h),P(m,_),w(k,A,x),w(k,$,x),P($,R),T||(J=[I(s,"input",t[5]),I(a,"input",t[6]),I(f,"input",t[7]),I(d,"change",t[8]),I(R,"click",t[4])],T=!0)},p(k,x){x&1&&s.value!==k[0]&&B(s,k[0]),x&2&&a.value!==k[1]&&B(a,k[1]),x&8&&(f.disabled=k[3]),x&4&&f.value!==k[2]&&B(f,k[2])},d(k){k&&(g(e),g(n),g(s),g(r),g(i),g(o),g(a),g(l),g(u),g(c),g(f),g(p),g(m),g(A),g($)),T=!1,Z(J)}}}function Wl(t){let e,n;return e=new Ee({props:{number:3,$$slots:{default:[Hl]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&8207&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Jl(t,e,n){let s,r;ee(t,V,h=>n(10,r=h)),G.defaults.headers.post["Access-Control-Allow-Origin"]="*";const i=new Ai({apiKey:"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",dangerouslyAllowBrowser:!0});let o,a,l;async function u(){const _=await new Promise((R,T)=>{navigator.geolocation.getCurrentPosition(R,T)}),A=_.coords.latitude,$=_.coords.longitude;return await Zo(A,$)}async function c(){const h=await u(),_=h.ResultSet.Address.slice(0,2),A=h.ResultSet.Result;console.log(_,l);let $=0;if(!s){const R=await i.chat.completions.create({messages:[{role:"system",content:`${A} このデータに次の場所として区別できる場所が含まれたら"1"と答え、含まれなければ"0"と答えてください`},{role:"user",content:l}],model:"gpt-3.5-turbo"});$=Number(R.choices[0].message.content)}o==_[0]&&_[1].includes(a)&&(s||$)&&Y(V,r+=1,r),fe("/4")}function f(){o=this.value,n(0,o)}function p(){a=this.value,n(1,a)}function m(){l=this.value,n(2,l)}const d=()=>{n(3,s=!s)};return n(3,s=!1),[o,a,l,s,c,f,p,m,d]}class zl extends oe{constructor(e){super(),ie(this,e,Jl,Wl,re,{})}}const ge=t=>new Promise((e,n)=>{setTimeout(e,1e3*t)}),Gn=ve([]);function gr(t){let e,n,s;return{c(){e=y("h2"),e.textContent="これから表示される言葉を音読してからひらがなで入力してください",n=O(),s=y("h2"),s.textContent="あとでまた聞くのでよく覚えておいてください"},m(r,i){w(r,e,i),w(r,n,i),w(r,s,i)},d(r){r&&(g(e),g(n),g(s))}}}function wr(t){let e,n=t[2][0]+"",s;return{c(){e=y("h2"),s=Q(n)},m(r,i){w(r,e,i),P(e,s)},p(r,i){i&4&&n!==(n=r[2][0]+"")&&ye(s,n)},d(r){r&&g(e)}}}function br(t){let e,n,s,r,i;return{c(){e=y("input"),n=O(),s=y("button"),s.textContent="確定",X(e,"type","text")},m(o,a){w(o,e,a),B(e,t[0]),w(o,n,a),w(o,s,a),r||(i=[I(e,"input",t[4]),I(s,"click",t[5])],r=!0)},p(o,a){a&1&&e.value!==o[0]&&B(e,o[0])},d(o){o&&(g(e),g(n),g(s)),r=!1,Z(i)}}}function yr(t){let e,n=t[2][1]+"",s;return{c(){e=y("h2"),s=Q(n)},m(r,i){w(r,e,i),P(e,s)},p(r,i){i&4&&n!==(n=r[2][1]+"")&&ye(s,n)},d(r){r&&g(e)}}}function $r(t){let e,n,s,r,i;return{c(){e=y("input"),n=O(),s=y("button"),s.textContent="確定",X(e,"type","text")},m(o,a){w(o,e,a),B(e,t[0]),w(o,n,a),w(o,s,a),r||(i=[I(e,"input",t[6]),I(s,"click",t[7])],r=!0)},p(o,a){a&1&&e.value!==o[0]&&B(e,o[0])},d(o){o&&(g(e),g(n),g(s)),r=!1,Z(i)}}}function Cr(t){let e,n=t[2][2]+"",s;return{c(){e=y("h2"),s=Q(n)},m(r,i){w(r,e,i),P(e,s)},p(r,i){i&4&&n!==(n=r[2][2]+"")&&ye(s,n)},d(r){r&&g(e)}}}function Sr(t){let e,n,s,r,i;return{c(){e=y("input"),n=O(),s=y("button"),s.textContent="確定",X(e,"type","text")},m(o,a){w(o,e,a),B(e,t[0]),w(o,n,a),w(o,s,a),r||(i=[I(e,"input",t[8]),I(s,"click",t[9])],r=!0)},p(o,a){a&1&&e.value!==o[0]&&B(e,o[0])},d(o){o&&(g(e),g(n),g(s)),r=!1,Z(i)}}}function Vl(t){let e,n,s,r,i,o,a,l=t[1]==0&&gr(),u=t[1]==1&&wr(t),c=t[1]==2&&br(t),f=t[1]==3&&yr(t),p=t[1]==4&&$r(t),m=t[1]==5&&Cr(t),d=t[1]==6&&Sr(t);return{c(){l&&l.c(),e=O(),u&&u.c(),n=O(),c&&c.c(),s=O(),f&&f.c(),r=O(),p&&p.c(),i=O(),m&&m.c(),o=O(),d&&d.c(),a=be()},m(h,_){l&&l.m(h,_),w(h,e,_),u&&u.m(h,_),w(h,n,_),c&&c.m(h,_),w(h,s,_),f&&f.m(h,_),w(h,r,_),p&&p.m(h,_),w(h,i,_),m&&m.m(h,_),w(h,o,_),d&&d.m(h,_),w(h,a,_)},p(h,_){h[1]==0?l||(l=gr(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),h[1]==1?u?u.p(h,_):(u=wr(h),u.c(),u.m(n.parentNode,n)):u&&(u.d(1),u=null),h[1]==2?c?c.p(h,_):(c=br(h),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),h[1]==3?f?f.p(h,_):(f=yr(h),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),h[1]==4?p?p.p(h,_):(p=$r(h),p.c(),p.m(i.parentNode,i)):p&&(p.d(1),p=null),h[1]==5?m?m.p(h,_):(m=Cr(h),m.c(),m.m(o.parentNode,o)):m&&(m.d(1),m=null),h[1]==6?d?d.p(h,_):(d=Sr(h),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(h){h&&(g(e),g(n),g(s),g(r),g(i),g(o),g(a)),l&&l.d(h),u&&u.d(h),c&&c.d(h),f&&f.d(h),p&&p.d(h),m&&m.d(h),d&&d.d(h)}}}function Xl(t){let e,n;return e=new Ee({props:{number:4,$$slots:{default:[Vl]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&2063&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Kl(t,e,n){let s,r,i,o;ee(t,Gn,d=>n(2,i=d)),ee(t,V,d=>n(3,o=d));const a=[["さくら","ねこ","でんしゃ"],["うめ","いぬ","じどうしゃ"]];Y(Gn,i=a[Math.floor(Math.random()*a.length)],i),ft(async()=>{await ge(5),n(1,r=1)}),Jr(async()=>{r==1&&(await ge(2),n(1,r=2),n(0,s="")),r==3&&(await ge(2),n(1,r=4),n(0,s="")),r==5&&(await ge(2),n(1,r=6),n(0,s=""))});function l(){s=this.value,n(0,s)}const u=()=>{n(1,r=3),s==i[0]&&Y(V,o+=1,o)};function c(){s=this.value,n(0,s)}const f=()=>{n(1,r=5),s==i[1]&&Y(V,o+=1,o)};function p(){s=this.value,n(0,s)}const m=()=>{n(1,r=7),s==i[2]&&Y(V,o+=1,o),fe("5")};return n(0,s=""),n(1,r=0),[s,r,i,o,l,u,c,f,p,m]}class Gl extends oe{constructor(e){super(),ie(this,e,Kl,Xl,re,{})}}function Ql(t){let e,n,s=t[1].question+"",r,i,o,a,l,u,c,f;return{c(){e=y("div"),n=y("h2"),r=Q(s),i=O(),o=y("input"),a=O(),l=y("div"),u=y("button"),u.textContent="確定",X(o,"type","text")},m(p,m){w(p,e,m),P(e,n),P(n,r),P(e,i),P(e,o),B(o,t[0]),w(p,a,m),w(p,l,m),P(l,u),c||(f=[I(o,"input",t[3]),I(o,"change",t[4]),I(u,"click",t[5])],c=!0)},p(p,m){m&2&&s!==(s=p[1].question+"")&&ye(r,s),m&1&&o.value!==p[0]&&B(o,p[0])},d(p){p&&(g(e),g(a),g(l)),c=!1,Z(f)}}}function Yl(t){let e,n,s;return n=new Ee({props:{number:5,$$slots:{default:[Ql]},$$scope:{ctx:t}}}),{c(){e=y("div"),U(n.$$.fragment)},m(r,i){w(r,e,i),L(n,e,null),s=!0},p(r,[i]){const o={};i&259&&(o.$$scope={dirty:i,ctx:r}),n.$set(o)},i(r){s||(v(n.$$.fragment,r),s=!0)},o(r){F(n.$$.fragment,r),s=!1},d(r){r&&g(e),D(n)}}}function Zl(t,e,n){let s,r;ee(t,V,f=>n(6,r=f));let i;const o=[{question:"100から7を引いてください",answer:93},{question:"先ほどの答えから更に7を引いてください",answer:86}];function a(){s===o[0]?i==o[0].answer?(Y(V,r+=1,r),n(1,s=o[1]),n(0,i="")):fe("/6"):i==o[1].answer&&(Y(V,r+=1,r),fe("/6"))}function l(){i=this.value,n(0,i)}const u=()=>{n(0,i=it(i))},c=()=>a();return n(1,s=o[0]),[i,s,a,l,u,c]}class eu extends oe{constructor(e){super(),ie(this,e,Zl,Yl,re,{})}}function Rr(t){let e;return{c(){e=y("h2"),e.textContent="これから表示される数字を逆から読み上げ、入力してください"},m(n,s){w(n,e,s)},d(n){n&&g(e)}}}function Er(t){let e,n,s=t[2].question1+"",r;return{c(){e=y("div"),n=y("h2"),r=Q(s)},m(i,o){w(i,e,o),P(e,n),P(n,r)},p(i,o){o&4&&s!==(s=i[2].question1+"")&&ye(r,s)},d(i){i&&g(e)}}}function Ar(t){let e,n,s,r,i,o,a,l;return{c(){e=y("div"),n=y("h2"),n.textContent="入力例：〇-〇-〇",s=O(),r=y("input"),i=O(),o=y("button"),o.textContent="確定",X(r,"type","text")},m(u,c){w(u,e,c),P(e,n),P(e,s),P(e,r),B(r,t[0]),P(e,i),P(e,o),a||(l=[I(r,"input",t[4]),I(r,"change",t[5]),I(o,"click",t[6])],a=!0)},p(u,c){c&1&&r.value!==u[0]&&B(r,u[0])},d(u){u&&g(e),a=!1,Z(l)}}}function kr(t){let e,n,s=t[2].question2+"",r;return{c(){e=y("div"),n=y("h2"),r=Q(s)},m(i,o){w(i,e,o),P(e,n),P(n,r)},p(i,o){o&4&&s!==(s=i[2].question2+"")&&ye(r,s)},d(i){i&&g(e)}}}function Pr(t){let e,n,s,r,i,o,a,l;return{c(){e=y("div"),n=y("h2"),n.textContent="入力例：〇-〇-〇-〇",s=O(),r=y("input"),i=O(),o=y("button"),o.textContent="確定",X(r,"type","text")},m(u,c){w(u,e,c),P(e,n),P(e,s),P(e,r),B(r,t[0]),P(e,i),P(e,o),a||(l=[I(r,"input",t[7]),I(r,"change",t[8]),I(o,"click",t[9])],a=!0)},p(u,c){c&1&&r.value!==u[0]&&B(r,u[0])},d(u){u&&g(e),a=!1,Z(l)}}}function tu(t){let e,n,s,r,i,o=t[1]==0&&Rr(),a=t[1]==1&&Er(t),l=t[1]==2&&Ar(t),u=t[1]==3&&kr(t),c=t[1]==4&&Pr(t);return{c(){o&&o.c(),e=O(),a&&a.c(),n=O(),l&&l.c(),s=O(),u&&u.c(),r=O(),c&&c.c(),i=be()},m(f,p){o&&o.m(f,p),w(f,e,p),a&&a.m(f,p),w(f,n,p),l&&l.m(f,p),w(f,s,p),u&&u.m(f,p),w(f,r,p),c&&c.m(f,p),w(f,i,p)},p(f,p){f[1]==0?o||(o=Rr(),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),f[1]==1?a?a.p(f,p):(a=Er(f),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null),f[1]==2?l?l.p(f,p):(l=Ar(f),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null),f[1]==3?u?u.p(f,p):(u=kr(f),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),f[1]==4?c?c.p(f,p):(c=Pr(f),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(f){f&&(g(e),g(n),g(s),g(r),g(i)),o&&o.d(f),a&&a.d(f),l&&l.d(f),u&&u.d(f),c&&c.d(f)}}}function nu(t){let e,n;return e=new Ee({props:{number:6,$$slots:{default:[tu]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&4103&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function su(t,e,n){let s,r,i;ee(t,V,h=>n(10,i=h));let o;const a=[{question1:"6-8-2"},{question2:"3-5-2-9"}];function l(){s===a[0]?(o=="2-8-6"&&Y(V,i+=1,i),n(2,s=a[1])):(o=="9-2-5-3"&&Y(V,i+=1,i),fe("7"))}ft(async()=>{await ge(5),n(1,r=1),await ge(5),n(1,r=2)}),Jr(async()=>{r==3&&(await ge(5),n(0,o=""),n(1,r=4))});function u(){o=this.value,n(0,o)}const c=()=>{n(0,o=it(o))},f=()=>{n(1,r=3),l()};function p(){o=this.value,n(0,o)}const m=()=>{n(0,o=it(o))},d=()=>l();return n(2,s=a[0]),n(1,r=0),[o,r,s,l,u,c,f,p,m,d]}class ru extends oe{constructor(e){super(),ie(this,e,su,nu,re,{})}}function Or(t){let e,n,s=t[2][t[4]()].str+"",r;return{c(){e=y("p"),n=Q("ヒント: "),r=Q(s)},m(i,o){w(i,e,o),P(e,n),P(e,r)},p(i,o){o&4&&s!==(s=i[2][i[4]()].str+"")&&ye(r,s)},d(i){i&&g(e)}}}function iu(t){let e,n,s=t[2][t[4]()].show,r,i,o=t[1]+1+"",a,l,u,c,f,p,m,d,h,_,A,$=s&&Or(t);return{c(){e=y("h2"),e.textContent="質問4で先ほど覚えてもらった言葉をもう一度入力してください",n=O(),$&&$.c(),r=O(),i=y("h3"),a=Q(o),l=Q("つ目"),u=O(),c=y("input"),f=O(),p=y("button"),p.textContent="ヒント",m=O(),d=y("div"),h=y("button"),h.textContent="確定",X(c,"type","text")},m(R,T){w(R,e,T),w(R,n,T),$&&$.m(R,T),w(R,r,T),w(R,i,T),P(i,a),P(i,l),w(R,u,T),w(R,c,T),B(c,t[0]),w(R,f,T),w(R,p,T),w(R,m,T),w(R,d,T),P(d,h),_||(A=[I(c,"input",t[6]),I(p,"click",t[7]),I(h,"click",t[8])],_=!0)},p(R,T){T&4&&(s=R[2][R[4]()].show),s?$?$.p(R,T):($=Or(R),$.c(),$.m(r.parentNode,r)):$&&($.d(1),$=null),T&2&&o!==(o=R[1]+1+"")&&ye(a,o),T&1&&c.value!==R[0]&&B(c,R[0])},d(R){R&&(g(e),g(n),g(r),g(i),g(u),g(c),g(f),g(p),g(m),g(d)),$&&$.d(R),_=!1,Z(A)}}}function ou(t){let e,n;return e=new Ee({props:{number:7,$$slots:{default:[iu]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&2063&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function au(t,e,n){let s,r,i;ee(t,Gn,m=>n(10,r=m)),ee(t,V,m=>n(3,i=m));let o,a=0;const l=()=>{const m=s.findIndex(d=>{if(d.answerd==!1)return!0});return m==-1?0:m},u=m=>r.indexOf(m);function c(){o=this.value,n(0,o)}const f=()=>{n(2,s[l()].show=!0,s)},p=()=>{const m=u(o);n(1,a++,a),m>=0&&(s[m].answerd||(n(2,s[m].answerd=!0,s),s[m].show==!0?Y(V,i+=1,i):Y(V,i+=2,i))),n(0,o=""),a>2&&fe("8")};return n(2,s=[{str:"植物",show:!1,answerd:!1},{str:"動物",show:!1,answerd:!1},{str:"乗り物",show:!1,answerd:!1}]),[o,a,s,i,l,u,c,f,p]}class lu extends oe{constructor(e){super(),ie(this,e,au,ou,re,{})}}function Tr(t){let e;return{c(){e=y("h2"),e.textContent="次に表示する画像を10秒間で覚えてください。"},m(n,s){w(n,e,s)},d(n){n&&g(e)}}}function Nr(t){let e;return{c(){e=y("div"),e.innerHTML='<picture><source srcset="/assets/clock-d3nGErYc.avif 1x, /assets/clock-Js2J8KRe.avif 2x" type="image/avif"/><source srcset="/assets/clock-3SCvLPsv.webp 1x, /assets/clock-SYYZBoTM.webp 2x" type="image/webp"/><source srcset="/assets/clock-zVWRnDoC.png 1x, /assets/clock-yGknAmyF.png 2x" type="image/png"/><img src="/assets/clock-yGknAmyF.png" alt="とけい" width="1280" height="1280" class="svelte-van7gb"/></picture> <picture><source srcset="/assets/cigarette-KNcfBteM.avif 1x, /assets/cigarette-WkIaNO_q.avif 2x" type="image/avif"/><source srcset="/assets/cigarette-6UrXPCzI.webp 1x, /assets/cigarette-rzobkbzV.webp 2x" type="image/webp"/><source srcset="/assets/cigarette-z2ZerwlF.png 1x, /assets/cigarette-MALSZuq8.png 2x" type="image/png"/><img src="/assets/cigarette-MALSZuq8.png" alt="たばこ" width="1280" height="1280" class="svelte-van7gb"/></picture> <picture><source srcset="/assets/key-TabgWBRG.avif 1x, /assets/key-la0wWkII.avif 2x" type="image/avif"/><source srcset="/assets/key-APUoj_VO.webp 1x, /assets/key-v-QuGVoS.webp 2x" type="image/webp"/><source srcset="/assets/key-c47BwejH.png 1x, /assets/key-JG0ZnDRH.png 2x" type="image/png"/><img src="/assets/key-JG0ZnDRH.png" alt="かぎ" width="1280" height="1280" class="svelte-van7gb"/></picture> <picture><source srcset="/assets/pencil-VcBBz6c8.avif 1x, /assets/pencil--OF1rSpO.avif 2x" type="image/avif"/><source srcset="/assets/pencil-9TYbgMq6.webp 1x, /assets/pencil-92h3VwHY.webp 2x" type="image/webp"/><source srcset="/assets/pencil-I12rJ_Fg.png 1x, /assets/pencil-Lh0TQMM-.png 2x" type="image/png"/><img src="/assets/pencil-Lh0TQMM-.png" alt="えんぴつ" width="1280" height="1280" class="svelte-van7gb"/></picture> <picture><source srcset="/assets/watermelon-NsrIqwSN.avif 1x, /assets/watermelon-IT8eGt1Z.avif 2x" type="image/avif"/><source srcset="/assets/watermelon-iTtGmlso.webp 1x, /assets/watermelon-ZGesJ8c3.webp 2x" type="image/webp"/><source srcset="/assets/watermelon-XfVGtBAP.png 1x, /assets/watermelon-nFt6jVMZ.png 2x" type="image/png"/><img src="/assets/watermelon-nFt6jVMZ.png" alt="すいか" width="1280" height="1280" class="svelte-van7gb"/></picture>'},m(n,s){w(n,e,s)},d(n){n&&g(e)}}}function vr(t){let e,n,s,r,i,o,a,l,u,c,f,p,m,d,h,_,A;return{c(){e=y("div"),n=y("h2"),n.textContent="５つの物の中で覚えているものをひらがなで入力してください",s=O(),r=y("input"),i=O(),o=y("input"),a=O(),l=y("input"),u=O(),c=y("input"),f=O(),p=y("input"),m=O(),d=y("div"),h=y("button"),h.textContent="確定",X(r,"type","text"),X(o,"type","text"),X(l,"type","text"),X(c,"type","text"),X(p,"type","text")},m($,R){w($,e,R),P(e,n),P(e,s),P(e,r),B(r,t[0][0]),P(e,i),P(e,o),B(o,t[0][1]),P(e,a),P(e,l),B(l,t[0][2]),P(e,u),P(e,c),B(c,t[0][3]),P(e,f),P(e,p),B(p,t[0][4]),w($,m,R),w($,d,R),P(d,h),_||(A=[I(r,"input",t[3]),I(o,"input",t[4]),I(l,"input",t[5]),I(c,"input",t[6]),I(p,"input",t[7]),I(h,"click",t[2])],_=!0)},p($,R){R&1&&r.value!==$[0][0]&&B(r,$[0][0]),R&1&&o.value!==$[0][1]&&B(o,$[0][1]),R&1&&l.value!==$[0][2]&&B(l,$[0][2]),R&1&&c.value!==$[0][3]&&B(c,$[0][3]),R&1&&p.value!==$[0][4]&&B(p,$[0][4])},d($){$&&(g(e),g(m),g(d)),_=!1,Z(A)}}}function uu(t){let e,n,s,r=t[1]==0&&Tr(),i=t[1]==1&&Nr(),o=t[1]==2&&vr(t);return{c(){r&&r.c(),e=O(),i&&i.c(),n=O(),o&&o.c(),s=be()},m(a,l){r&&r.m(a,l),w(a,e,l),i&&i.m(a,l),w(a,n,l),o&&o.m(a,l),w(a,s,l)},p(a,l){a[1]==0?r||(r=Tr(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),a[1]==1?i||(i=Nr(),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),a[1]==2?o?o.p(a,l):(o=vr(a),o.c(),o.m(s.parentNode,s)):o&&(o.d(1),o=null)},d(a){a&&(g(e),g(n),g(s)),r&&r.d(a),i&&i.d(a),o&&o.d(a)}}}function cu(t){let e,n;return e=new Ee({props:{number:8,$$slots:{default:[uu]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&515&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function fu(t,e,n){let s,r;ee(t,V,p=>n(8,r=p));let i=[];function o(){["とけい","かぎ","たばこ","えんぴつ","すいか"].forEach(m=>{i.some(function(h){return m===h})&&Y(V,r+=1,r)}),fe("9")}ft(async()=>{await ge(5),n(1,s=1),await ge(10),n(1,s=2)});function a(){i[0]=this.value,n(0,i)}function l(){i[1]=this.value,n(0,i)}function u(){i[2]=this.value,n(0,i)}function c(){i[3]=this.value,n(0,i)}function f(){i[4]=this.value,n(0,i)}return n(1,s=0),[i,s,o,a,l,u,c,f]}class du extends oe{constructor(e){super(),ie(this,e,fu,cu,re,{})}}function Fr(t,e,n){const s=t.slice();return s[12]=e[n],s[13]=e,s[14]=n,s}function hu(t){let e;return{c(){e=y("h3"),e.textContent="答えの確認中"},m(n,s){w(n,e,s)},p:H,d(n){n&&g(e)}}}function pu(t){let e,n,s,r,i,o=Oe(t[0]),a=[];for(let l=0;l<o.length;l+=1)a[l]=Ir(Fr(t,o,l));return{c(){for(let l=0;l<a.length;l+=1)a[l].c();e=O(),n=y("div"),s=y("button"),s.textContent="確定"},m(l,u){for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(l,u);w(l,e,u),w(l,n,u),P(n,s),r||(i=I(s,"click",t[5]),r=!0)},p(l,u){if(u&9){o=Oe(l[0]);let c;for(c=0;c<o.length;c+=1){const f=Fr(l,o,c);a[c]?a[c].p(f,u):(a[c]=Ir(f),a[c].c(),a[c].m(e.parentNode,e))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},d(l){l&&(g(e),g(n)),wt(a,l),r=!1,i()}}}function Ir(t){let e,n,s;function r(){t[4].call(e,t[14])}return{c(){e=y("input"),X(e,"type","text")},m(i,o){w(i,e,o),B(e,t[0][t[14]]),n||(s=[I(e,"input",r),I(e,"change",t[3])],n=!0)},p(i,o){t=i,o&1&&e.value!==t[0][t[14]]&&B(e,t[0][t[14]])},d(i){i&&g(e),n=!1,Z(s)}}}function mu(t){let e,n,s;function r(a,l){return a[1]?hu:pu}let i=r(t),o=i(t);return{c(){e=y("h2"),e.textContent="知っている野菜の名前をできるだけ多く入力してください",n=O(),o.c(),s=be()},m(a,l){w(a,e,l),w(a,n,l),o.m(a,l),w(a,s,l)},p(a,l){i===(i=r(a))&&o?o.p(a,l):(o.d(1),o=i(a),o&&(o.c(),o.m(s.parentNode,s)))},d(a){a&&(g(e),g(n),g(s)),o.d(a)}}}function _u(t){let e,n;return e=new Ee({props:{number:9,$$slots:{default:[mu]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&32771&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function gu(t,e,n){let s,r,i;ee(t,V,d=>n(10,i=d)),G.defaults.headers.post["Access-Control-Allow-Origin"]="*";const o=new Ai({apiKey:"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",dangerouslyAllowBrowser:!0});let a=Array(10),l=0,u=!1;ft(async()=>{for(;;)s++,await ge(1),s==10&&(u||await c(),fe("/10"))});async function c(){u=!0,n(1,r=!0);for(let d of a)if(d){const _=(await o.chat.completions.create({messages:[{role:"system",content:'この後送る単語が、野菜なら "1"、そうでないか空文字列なら "0"と答えてください。'},{role:"user",content:d}],model:"gpt-3.5-turbo"})).choices[0].message.content;l+=Number(_)}l>=5&&Y(V,i+=l-5,i)}function f(){s=0}function p(d){a[d]=this.value,n(0,a)}const m=async()=>{await c(),fe("10")};return s=0,n(1,r=!1),[a,r,c,f,p,m]}class wu extends oe{constructor(e){super(),ie(this,e,gu,_u,re,{})}}function bu(t){let e;return{c(){e=y("h2"),e.textContent="認知症の可能性は低いです"},m(n,s){w(n,e,s)},d(n){n&&g(e)}}}function yu(t){let e;return{c(){e=y("h2"),e.textContent="認知症の可能性が高いです"},m(n,s){w(n,e,s)},d(n){n&&g(e)}}}function $u(t){let e;function n(i,o){return i[0]<=20?yu:bu}let s=n(t),r=s(t);return{c(){e=y("div"),r.c()},m(i,o){w(i,e,o),r.m(e,null)},p(i,[o]){s!==(s=n(i))&&(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},i:H,o:H,d(i){i&&g(e),r.d()}}}function Cu(t,e,n){let s;return ee(t,V,r=>n(0,s=r)),[s]}class Su extends oe{constructor(e){super(),ie(this,e,Cu,$u,re,{})}}function Ru(t){let e,n,s,r,i;return{c(){e=y("h1"),e.textContent="認知症テスト",n=O(),s=y("button"),s.textContent="開始"},m(o,a){w(o,e,a),w(o,n,a),w(o,s,a),r||(i=I(s,"click",t[1]),r=!0)},p:H,d(o){o&&(g(e),g(n),g(s)),r=!1,i()}}}function Eu(t){let e,n;return e=new Xo({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Au(t){let e,n;return e=new Yo({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function ku(t){let e,n;return e=new zl({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Pu(t){let e,n;return e=new Gl({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Ou(t){let e,n;return e=new eu({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Tu(t){let e,n;return e=new ru({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Nu(t){let e,n;return e=new lu({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function vu(t){let e,n;return e=new du({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Fu(t){let e,n;return e=new wu({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Iu(t){let e,n;return e=new Su({}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function xu(t){let e,n,s,r,i,o,a,l,u,c,f,p,m,d,h,_,A,$,R,T,J,k,x,W,N,M,C;return o=new de({props:{path:"/",$$slots:{default:[Ru]},$$scope:{ctx:t}}}),l=new de({props:{path:"1",$$slots:{default:[Eu]},$$scope:{ctx:t}}}),c=new de({props:{path:"2",$$slots:{default:[Au]},$$scope:{ctx:t}}}),p=new de({props:{path:"3",$$slots:{default:[ku]},$$scope:{ctx:t}}}),d=new de({props:{path:"4",$$slots:{default:[Pu]},$$scope:{ctx:t}}}),_=new de({props:{path:"5",$$slots:{default:[Ou]},$$scope:{ctx:t}}}),$=new de({props:{path:"6",$$slots:{default:[Tu]},$$scope:{ctx:t}}}),T=new de({props:{path:"7",$$slots:{default:[Nu]},$$scope:{ctx:t}}}),k=new de({props:{path:"8",$$slots:{default:[vu]},$$scope:{ctx:t}}}),W=new de({props:{path:"9",$$slots:{default:[Fu]},$$scope:{ctx:t}}}),M=new de({props:{path:"10",$$slots:{default:[Iu]},$$scope:{ctx:t}}}),{c(){e=y("main"),n=y("h2"),s=Q("合計スコア"),r=Q(t[0]),i=O(),U(o.$$.fragment),a=O(),U(l.$$.fragment),u=O(),U(c.$$.fragment),f=O(),U(p.$$.fragment),m=O(),U(d.$$.fragment),h=O(),U(_.$$.fragment),A=O(),U($.$$.fragment),R=O(),U(T.$$.fragment),J=O(),U(k.$$.fragment),x=O(),U(W.$$.fragment),N=O(),U(M.$$.fragment)},m(S,E){w(S,e,E),P(e,n),P(n,s),P(n,r),P(e,i),L(o,e,null),P(e,a),L(l,e,null),P(e,u),L(c,e,null),P(e,f),L(p,e,null),P(e,m),L(d,e,null),P(e,h),L(_,e,null),P(e,A),L($,e,null),P(e,R),L(T,e,null),P(e,J),L(k,e,null),P(e,x),L(W,e,null),P(e,N),L(M,e,null),C=!0},p(S,E){(!C||E&1)&&ye(r,S[0]);const ae={};E&4&&(ae.$$scope={dirty:E,ctx:S}),o.$set(ae);const gs={};E&4&&(gs.$$scope={dirty:E,ctx:S}),l.$set(gs);const ws={};E&4&&(ws.$$scope={dirty:E,ctx:S}),c.$set(ws);const bs={};E&4&&(bs.$$scope={dirty:E,ctx:S}),p.$set(bs);const ys={};E&4&&(ys.$$scope={dirty:E,ctx:S}),d.$set(ys);const $s={};E&4&&($s.$$scope={dirty:E,ctx:S}),_.$set($s);const Cs={};E&4&&(Cs.$$scope={dirty:E,ctx:S}),$.$set(Cs);const Ss={};E&4&&(Ss.$$scope={dirty:E,ctx:S}),T.$set(Ss);const Rs={};E&4&&(Rs.$$scope={dirty:E,ctx:S}),k.$set(Rs);const Es={};E&4&&(Es.$$scope={dirty:E,ctx:S}),W.$set(Es);const As={};E&4&&(As.$$scope={dirty:E,ctx:S}),M.$set(As)},i(S){C||(v(o.$$.fragment,S),v(l.$$.fragment,S),v(c.$$.fragment,S),v(p.$$.fragment,S),v(d.$$.fragment,S),v(_.$$.fragment,S),v($.$$.fragment,S),v(T.$$.fragment,S),v(k.$$.fragment,S),v(W.$$.fragment,S),v(M.$$.fragment,S),C=!0)},o(S){F(o.$$.fragment,S),F(l.$$.fragment,S),F(c.$$.fragment,S),F(p.$$.fragment,S),F(d.$$.fragment,S),F(_.$$.fragment,S),F($.$$.fragment,S),F(T.$$.fragment,S),F(k.$$.fragment,S),F(W.$$.fragment,S),F(M.$$.fragment,S),C=!1},d(S){S&&g(e),D(o),D(l),D(c),D(p),D(d),D(_),D($),D(T),D(k),D(W),D(M)}}}function Bu(t){let e,n;return e=new Ho({props:{$$slots:{default:[xu]},$$scope:{ctx:t}}}),{c(){U(e.$$.fragment)},m(s,r){L(e,s,r),n=!0},p(s,[r]){const i={};r&5&&(i.$$scope={dirty:r,ctx:s}),e.$set(i)},i(s){n||(v(e.$$.fragment,s),n=!0)},o(s){F(e.$$.fragment,s),n=!1},d(s){D(e,s)}}}function Mu(t,e,n){let s;return ee(t,V,i=>n(0,s=i)),[s,()=>{fe("1")}]}class ju extends oe{constructor(e){super(),ie(this,e,Mu,Bu,re,{})}}new ju({target:document.getElementById("app")});
